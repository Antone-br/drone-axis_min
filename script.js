const HOTJAR_ID=6612832,setConsentCookie=()=>{let e=new Date;e.setTime(e.getTime()+15552e6),document.cookie="cookie_preferences_set=true; path=/; SameSite=Lax",console.log("Consent cookie set",document.cookie)},hasConsentCookie=()=>{let e=document.cookie.split("; ").filter(Boolean);return e.some(e=>e.startsWith("cookie_preferences_set="))},setPrefsCookie=e=>{let t=new Date;t.setTime(t.getTime()+15552e6);let r=encodeURIComponent(JSON.stringify(e));document.cookie="cookie_preferences="+r+"; path=/; SameSite=Lax"},getPrefsCookie=()=>{let e=document.cookie.split("; ").filter(Boolean),t=e.find(e=>e.startsWith("cookie_preferences="));if(!t)return null;try{let r=decodeURIComponent(t.split("=")[1]||"");return JSON.parse(r)}catch(i){return null}},body=document.body;let scrollLocked=!1;const preventScroll=e=>{scrollLocked&&e.preventDefault()},preventKeys=e=>{if(!scrollLocked)return;let t=[32,33,34,35,36,37,38,39,40];t.includes(e.keyCode)&&e.preventDefault()},lockScroll=()=>{scrollLocked=!0,body.addEventListener("wheel",preventScroll,{passive:!1}),body.addEventListener("touchmove",preventScroll,{passive:!1}),window.addEventListener("keydown",preventKeys,{passive:!1})},unlockScroll=()=>{scrollLocked=!1,body.removeEventListener("wheel",preventScroll),body.removeEventListener("touchmove",preventScroll),window.removeEventListener("keydown",preventKeys)};let hotjarLoaded=!1;const loadHotjar=()=>{if(hotjarLoaded)return;hotjarLoaded=!0;let e=window,t=document;e.hj=e.hj||function(){(e.hj.q=e.hj.q||[]).push(arguments)},e._hjSettings={hjid:6612832,hjsv:6};let r=t.getElementsByTagName("head")[0],i=t.createElement("script");i.async=1,i.src="https://static.hotjar.com/c/hotjar-"+e._hjSettings.hjid+".js?sv="+e._hjSettings.hjsv,i.id="hotjar-script",r.appendChild(i)},disableHotjar=()=>{if(window.hj&&"function"==typeof window.hj)try{window.hj("optOut")}catch(e){}let t=function(){return t};t.q=[],t.hq=t,t.tryCatch=function(e){return function(){try{return e.apply(this,arguments)}catch(t){}}},window.hj=t,window._hjSettings={hjid:0,hjsv:0};let r=document.getElementById("hotjar-script");r&&r.parentNode&&r.parentNode.removeChild(r);let i=document.cookie.split("; "),a=window.location.hostname,s=a.split("."),o=s.length>1?"."+s.slice(-2).join("."):a;if(i.forEach(e=>{let t=e.split("=")[0];(t.startsWith("_hjSessionUser_")||t.startsWith("_hjSession_")||t.startsWith("hjDebug"))&&(document.cookie=t+"=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",document.cookie=t+"=; path=/; domain="+o+"; expires=Thu, 01 Jan 1970 00:00:00 GMT")}),window.PerformanceObserver)try{let l=new PerformanceObserver(e=>{for(let t of e.getEntries())t.name.includes("hotjar.com")&&console.log("Requ\xeate Hotjar bloqu\xe9e (tentative)")});l.observe({entryTypes:["resource"]})}catch(n){}hotjarLoaded=!1};class CookieUI{constructor(){this.banner=document.querySelector('[cookies="banner"]'),this.modalWrapper=document.querySelector('[cookies="modal-wrapper"]'),this.modal=document.querySelector('[cookies="modal"]'),this.bubble=document.querySelector('[cookies="bubble"]'),this.btnSettings=document.querySelectorAll('[cookies="settings"]'),this.btnAcceptAll=document.querySelectorAll('[cookies="accept-all"]'),this.btnHide=document.querySelectorAll('[cookies="hide"]'),this.btnCurrentCookies=document.querySelectorAll('[cookies="current-cookies"]'),this.checkAnalytics=document.querySelector('[cookies="analytics"]'),this.checkPersonalization=document.querySelector('[cookies="personalization"]'),this.checkMarketing=document.querySelector('[cookies="marketing"]'),this.initialPrefs=getPrefsCookie()||{analytics:!1,personalization:!1,marketing:!1},this.applyPrefs(this.initialPrefs),this.initialPrefs.analytics&&loadHotjar(),hasConsentCookie()?(this.banner&&(this.banner.style.display="none"),this.modalWrapper&&(this.modalWrapper.style.display="none")):this.banner&&(this.banner.style.display="block"),this.initEvents()}initEvents(){this.btnSettings.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),this.showModal()})}),this.bubble&&this.bubble.addEventListener("click",e=>{e.preventDefault(),this.showModal()}),this.modalWrapper&&this.modalWrapper.addEventListener("click",e=>{e.target===this.modalWrapper&&this.hideModal(!0)}),this.btnAcceptAll.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),this.acceptAll();let r=this.getStates();setPrefsCookie(r),r.analytics?loadHotjar():disableHotjar(),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"consent_update",analytics_consent:r.analytics}),setConsentCookie(),this.initialPrefs=r;let i=e.closest('[cookies="banner"]'),a=e.closest('[cookies="modal"]');setTimeout(()=>{i&&this.hideBanner(),a&&this.hideModal(!1)},200)})}),this.btnCurrentCookies.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault();let t=this.getStates();setPrefsCookie(t),t.analytics?loadHotjar():disableHotjar(),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"consent_update",analytics_consent:t.analytics}),setConsentCookie(),this.initialPrefs=t,this.hideModal(!1)})}),this.btnHide.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let r=e.closest('[cookies="banner"]'),i=e.closest('[cookies="modal"]');r&&this.hideBanner(),i&&this.hideModal(!0)})})}getStates(){return{analytics:!!this.checkAnalytics&&this.checkAnalytics.checked,personalization:!!this.checkPersonalization&&this.checkPersonalization.checked,marketing:!!this.checkMarketing&&this.checkMarketing.checked}}applyPrefs(e){this.checkAnalytics&&this.setCheckbox(this.checkAnalytics,!!e.analytics),this.checkPersonalization&&this.setCheckbox(this.checkPersonalization,!!e.personalization),this.checkMarketing&&this.setCheckbox(this.checkMarketing,!!e.marketing)}setCheckbox(e,t){if(!e)return;e.checked=t;let r=e.closest(".w-checkbox"),i=r?r.querySelector(".w-checkbox-input"):null;i&&(t?i.classList.add("w--redirected-checked"):i.classList.remove("w--redirected-checked"))}acceptAll(){this.setCheckbox(this.checkAnalytics,!0),this.setCheckbox(this.checkPersonalization,!0),this.setCheckbox(this.checkMarketing,!0)}showWithAnimation(e){e&&(e.style.display="block",e.style.transition="none",e.style.opacity="0",e.style.transform="translateY(16px)",e.offsetWidth,e.style.transition="opacity 0.3s ease, transform 0.3s ease",e.style.opacity="1",e.style.transform="translateY(0)")}hideWithAnimation(e){e&&(e.style.transition="opacity 0.3s ease, transform 0.3s ease",e.style.opacity="0",e.style.transform="translateY(16px)",setTimeout(()=>{e.style.display="none"},300))}showBanner(){this.modalWrapper&&(this.modalWrapper.style.display="none"),this.banner&&this.showWithAnimation(this.banner)}hideBanner(){this.hideWithAnimation(this.banner)}showModal(){this.initialPrefs=this.getStates(),this.banner&&(this.banner.style.display="none"),this.modalWrapper&&this.showWithAnimation(this.modalWrapper),lockScroll()}hideModal(e){e&&this.applyPrefs(this.initialPrefs),this.hideWithAnimation(this.modalWrapper),unlockScroll()}}window.Webflow=window.Webflow||[],window.Webflow.push(function(){new CookieUI}),document.querySelectorAll("input, textarea, select").forEach(e=>{e.addEventListener("focus",function(){if(window.innerWidth<992){let e=getComputedStyle(this).fontSize;this.dataset.originalSize=e,this.style.fontSize="16px",setTimeout(()=>{this.style.fontSize=e})}})}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){document.querySelectorAll('[data-faq-dropdown=""]').forEach(e=>{e.addEventListener("click",function(){let e=this.querySelector('[data-faq-dropdown="answer"]'),t=this.querySelector('[data-faq-dropdown="arrow"]');e&&(e.style.height&&"0px"!==e.style.height?(e.style.height="0px",t&&(t.style.transform="rotate(0deg)")):(e.style.height=e.scrollHeight+"px",t&&(t.style.transform="rotate(180deg)")))})});let e;function t(){document.querySelectorAll('[data-faq-dropdown=""]').forEach(e=>{let t=e.querySelector('[data-faq-dropdown="answer"]');if(!t)return;let r=parseFloat(t.style.height||"0");if(r>0){t.style.height="auto";let i=t.scrollHeight;t.style.height=i+"px"}})}window.addEventListener("resize",()=>{clearTimeout(e),e=setTimeout(t,10)})}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){let e=document.querySelector(".faq_tabs.w-tabs");if(!e)return;let t=e.querySelector(".w-tab-menu"),r=e.querySelector(".w-tab-content");if(!t||!r)return;let i=t.querySelectorAll(".w-tab-link, .faq_tab-link"),a=r.querySelectorAll(".w-tab-pane"),s=r.querySelectorAll(".faq_tab-pane .faq_tabs-menu-wrapper[data-tabs]");if(!i.length||!a.length||!s.length)return;function o(e,t){e&&e.style.setProperty("color",t,"important")}function l(e){e&&e.style.removeProperty("color")}function n(e,t){o(e,t);let r=e.querySelectorAll(".faq_tab-text");r.forEach(e=>o(e,t))}function c(e){l(e);let t=e.querySelectorAll(".faq_tab-text");t.forEach(e=>l(e))}function d(e){i.forEach(e=>{e.classList.remove("w--current"),e.setAttribute("aria-selected","false"),e.removeAttribute("tabindex"),c(e)}),a.forEach(e=>{e.classList.remove("w--tab-active"),e.setAttribute("hidden","true")}),s.forEach(e=>{e.querySelectorAll(".faq_tab-link").forEach(e=>{e.classList.remove("w--current"),c(e)})});let t=i[e],r=a[e];if(t&&(t.classList.add("w--current"),t.setAttribute("aria-selected","true"),t.setAttribute("tabindex","0"),n(t,"#ffffff")),r&&(r.classList.add("w--tab-active"),r.removeAttribute("hidden")),r){let o=r.querySelector(".faq_tabs-menu-wrapper[data-tabs]");if(o){let l=o.querySelectorAll(".faq_tab-link");l[e]&&(l[e].classList.add("w--current"),n(l[e],"#ffffff"))}}}let p=0;i.forEach((e,t)=>{(e.classList.contains("w--current")||"true"===e.getAttribute("aria-selected"))&&(p=t)}),d(p),i.forEach((e,t)=>{e.addEventListener("click",e=>{e.preventDefault(),d(t)})}),s.forEach(e=>{let t=e.querySelectorAll(".faq_tab-link");t.forEach((e,t)=>{e.addEventListener("click",e=>{e.preventDefault(),d(t)})})})}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){let e=document.querySelector('[data-form-contact="page"]'),t=document.querySelectorAll('[data-form-contact="open"]'),r=document.querySelectorAll('[data-form-contact="close"]'),i=document.querySelectorAll('[data-form-contact="page"] [data-btn]'),a=document.body;if(!e||!t.length)return;e.style.transition="opacity 400ms ease",e.style.opacity="0",e.style.display="none";let s=!1,o=e=>{s&&e.preventDefault()},l=e=>{if(!s)return;let t=["ArrowUp","ArrowDown","PageUp","PageDown","Home","End","Space"];(t.includes(e.code)||t.includes(e.key))&&e.preventDefault()},n=()=>{s=!0,a.addEventListener("wheel",o,{passive:!1}),a.addEventListener("touchmove",o,{passive:!1}),window.addEventListener("keydown",l,{passive:!1})},c=()=>{s=!1,a.removeEventListener("wheel",o),a.removeEventListener("touchmove",o),window.removeEventListener("keydown",l)};window.unlockScrollContact=c;let d="contact-radio",p=document.querySelectorAll(`input[type="radio"][name="${d}"]`),u=()=>{p.forEach(e=>{e.checked=!1});let e=document.querySelector(`input[type="radio"][name="${d}"]#radio-opt-1`);e&&(e.checked=!0)},h=e=>{let t=e.target;t&&"\xe0_un_autre_moment"===t.value&&t.checked&&y(!0)};p.forEach(e=>{e.addEventListener("change",h)});let f=()=>{n(),e.style.display="block",requestAnimationFrame(()=>{e.style.opacity="1"})},y=(t=!1)=>{e.style.opacity="0",setTimeout(()=>{e.style.display="none",c(),t&&u()},400)};document.addEventListener("click",t=>{if("block"!==e.style.display||t.target.closest(".flatpickr-calendar")||t.target.classList&&t.target.classList.contains("price_form-input")&&t.target.classList.contains("w-input"))return;let r=t.target.closest(".form-contact_component"),i=t.target.closest(".form-contact_content");if(r&&!i){y();return}let a=null!==t.target.closest('[data-form-contact="page"]');a||y()}),t.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),f()})}),r.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),y()})}),i.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),y()})})}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){let e=document.getElementById("date-picker");e&&(e.setAttribute("autocomplete","off"),e.setAttribute("readonly","readonly"),e.value=""),flatpickr("#date-picker",{enableTime:!0,time_24hr:!0,locale:"fr",minDate:"today",disableMobile:!0,altInput:!0,altFormat:"d/m/Y - H\\hi",dateFormat:"Y-m-d H:i",allowInput:!1,clickOpens:!0})}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){new class e{constructor(e){if(this.formWrapper=$(e),!this.formWrapper.length)return;this.form=this.formWrapper.find("form").length?this.formWrapper.find("form").eq(0):this.formWrapper,this.hasSubmitted=!1,this.validator=new class e{constructor(){this.borderError="1px solid #ff0000",this.shadowError="0 0 0 2px rgba(255, 0, 0, 0.1)",this.borderSuccess="1px solid #008000",this.shadowSuccess="0 0 0 2px rgba(0, 128, 0, 0.1)"}getIcon(e,t){let r=$(e),i=r.closest('.price_form-input-wrapper, .price_form-input-wrap, [data-contact-field="radio-wrapper"]');if(i.length>0)return i.find(`[data-contact-field="${t}"]`);let a=r.siblings(`[data-contact-field="${t}"]`);return a.length?a:r.parent().find(`[data-contact-field="${t}"]`)}getVisibleDateElement(e){let t=$(e).closest(".price_form-input-wrap");return t.length&&t.find('input[type="text"].is-date').get(0)||e}cleanError(e){let t=window.getComputedStyle(e).borderColor;("rgb(255, 0, 0)"===t||"#ff0000"===t)&&(e.style.setProperty("border","","important"),e.style.setProperty("box-shadow","","important"),e.style.borderRadius="",this.getIcon(e,"error").hide())}applySuccessBorder(e){e.style.setProperty("border",this.borderSuccess,"important")}applySuccessShadow(e){e.style.setProperty("box-shadow",this.shadowSuccess,"important")}removeShadow(e){e.style.setProperty("box-shadow","","important")}showSuccess(e,t){$(e).is('[data-contact-field="date"]')&&(e=this.getVisibleDateElement(e)),this.cleanError(e),this.applySuccessBorder(e),e.style.borderRadius="",this.getIcon(e,"validate").show(),t?this.applySuccessShadow(e):this.removeShadow(e)}hideSuccess(e){$(e).is('[data-contact-field="date"]')&&(e=this.getVisibleDateElement(e)),e.style.setProperty("border","","important"),this.removeShadow(e),this.getIcon(e,"validate").hide()}showError(e){$(e).is('[data-contact-field="date"]')&&(e=this.getVisibleDateElement(e)),this.hideSuccess(e),e.style.setProperty("border",this.borderError,"important"),e.style.setProperty("box-shadow",this.shadowError,"important"),e.style.borderRadius="",this.getIcon(e,"error").show()}showRadioError(e){this.hideSuccess(e),e.style.setProperty("border",this.borderError,"important"),e.style.setProperty("box-shadow",this.shadowError,"important"),this.getIcon(e,"error").show()}},this.popup=new class e{constructor(){this.popup=null,this.bar=null,this.icon=null,this.title=null,this.text=null,this.injectPopupHTML()}isInViewport(){if(!this.popup)return!1;let e=this.popup.getBoundingClientRect(),t=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight;return e.right>0&&e.left<t&&e.bottom>0&&e.top<r}forceHide(){this.popup&&this.bar&&(this.popup.classList.remove("show"),this.popup.classList.add("hide"),this.bar.style.width="0%",this.popup.classList.remove("visible"))}injectPopupHTML(){let e=document.createElement("style");e.textContent=`
        #contact-popup {
          position: fixed;
          top: 24px;
          right: 24px;
          z-index: 9999;
          opacity: 0;
          transform: translateX(400px);
          transition: opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1), transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
          display: none;
        }
        #contact-popup.visible { display: block; }
        #contact-popup.show { opacity: 1; transform: translateX(0); }
        #contact-popup.hide { opacity: 0; transform: translateX(400px); transition: opacity 0.4s cubic-bezier(0.4, 0, 1, 1), transform 0.4s cubic-bezier(0.4, 0, 1, 1); }
        #contact-popup-inner { background: #ffffff; padding: 16px 20px; border-radius: 12px; min-width: 320px; max-width: 400px; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.12), 0 2px 8px rgba(0, 0, 0, 0.08); border: 1px solid rgba(0, 128, 0, 0.2); }
        #contact-popup-inner.error { border-color: rgba(239, 68, 68, 0.4); background: #fef2f2; }
        #contact-popup-header { display: flex; align-items: center; gap: 12px; margin-bottom: 8px; }
        #contact-popup-icon { width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0; animation: scaleIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) 0.3s both; }
        #contact-popup-icon.success { background: #22c55e; }
        #contact-popup-icon.error { background: #ef4444; }
        @keyframes scaleIn { from { transform: scale(0); } to { transform: scale(1); } }
        #contact-popup-icon svg { width: 14px; height: 14px; fill: white; }
        #contact-popup-title { font-size: 15px; font-weight: 600; margin: 0; }
        #contact-popup-title.success { color: #1a1a1a; }
        #contact-popup-title.error { color: #dc2626; }
        #contact-popup-text { font-size: 13px; margin: 0 0 12px 0; line-height: 1.5; }
        #contact-popup-text.success { color: #6b7280; }
        #contact-popup-text.error { color: #991b1b; }
        #contact-popup-track { width: 100%; height: 4px; border-radius: 999px; background: #f3f4f6; overflow: hidden; }
        #contact-popup-bar { width: 0%; height: 100%; border-radius: 999px; transition: width 5s cubic-bezier(0.4, 0, 0.2, 1); }
        #contact-popup-bar.success { background: linear-gradient(90deg, #22c55e, #16a34a); }
        #contact-popup-bar.error { background: linear-gradient(90deg, #ef4444, #dc2626); }
        @media (max-width: 768px) { #contact-popup { top: 16px; right: 16px; left: 16px; } #contact-popup-inner { min-width: auto; width: 100%; } }
      `,document.head.appendChild(e);let t=document.createElement("div");t.id="contact-popup",t.innerHTML=`
        <div id="contact-popup-inner">
          <div id="contact-popup-header">
            <div id="contact-popup-icon" class="success">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>
              </svg>
            </div>
            <div id="contact-popup-title" class="success">Demande envoy\xe9e avec succ\xe8s</div>
          </div>
          <div id="contact-popup-text" class="success">Nous vous recontacterons dans les plus brefs d\xe9lais.</div>
          <div id="contact-popup-track">
            <div id="contact-popup-bar" class="success"></div>
          </div>
        </div>
      `,document.body.appendChild(t),this.popup=document.getElementById("contact-popup"),this.bar=document.getElementById("contact-popup-bar"),this.icon=document.getElementById("contact-popup-icon"),this.title=document.getElementById("contact-popup-title"),this.text=document.getElementById("contact-popup-text")}show(e=!0){if(!this.popup||!this.bar)return;this.popup.classList.add("visible"),this.bar.style.width="0%",this.popup.classList.remove("hide"),this.popup.classList.add("show");let t=document.getElementById("contact-popup-inner");t.classList.toggle("error",!e),this.icon.className=e?"success":"error",this.icon.innerHTML=e?'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/></svg>':'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg>',this.title.className=e?"success":"error",this.title.textContent=e?"Demande envoy\xe9e avec succ\xe8s":"Erreur lors de l'envoi",this.text.className=e?"success":"error",this.text.textContent=e?"Nous vous recontacterons dans les plus brefs d\xe9lais.":"Veuillez r\xe9essayer ou nous contacter directement.",this.bar.className=e?"success":"error",requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.bar.style.width="100%"})}),setTimeout(()=>{if(!this.isInViewport()){this.forceHide();return}this.popup.classList.remove("show"),this.popup.classList.add("hide"),setTimeout(()=>{this.popup.classList.remove("hide"),this.bar.style.width="0%",this.popup.classList.remove("visible")},500)},5e3)}},this.phoneIntl=new class e{constructor(){this.iti=null,this.input=null,this.isFormatting=!1,this.countryConfigs={fr:{placeholder:"07 12 34 56 78",regex:/^0[1-9](?:\s\d{2}){4}$/,maxLength:14,formatPattern:[2,2,2,2,2],description:"Format : 0X XX XX XX XX"},be:{placeholder:"04 76 64 64 64",regex:/^0[1-9](?:\s\d{2}){4}$/,maxLength:14,formatPattern:[2,2,2,2,2],description:"Format : 0X XX XX XX XX"},ch:{placeholder:"075 555 55 55",regex:/^0\d{2}\s\d{3}\s\d{2}\s\d{2}$/,maxLength:13,formatPattern:[3,3,2,2],description:"Format : 0XX XXX XX XX"},de:{placeholder:"0171 123 4567",regex:/^0\d{3,4}\s\d{3}\s\d{4}$/,maxLength:14,formatPattern:[4,3,4],description:"Format : 0XXX XXX XXXX"}},this.init()}init(){this.input=document.querySelector('input[data-contact-field="phone"]'),this.input&&window.intlTelInput&&(this.iti=window.intlTelInput(this.input,{utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/js/utils.js",initialCountry:"fr",preferredCountries:["fr"],onlyCountries:["fr","be","ch","de"],nationalMode:!0,formatOnDisplay:!0,separateDialCode:!1}),this.setupEventListeners(),setTimeout(()=>this.updateInputConfig(),200))}formatPhoneNumber(e,t){let r=e.replace(/\s/g,""),i=t.formatPattern.reduce((e,t)=>e+t,0),a=r.substring(0,i),s="",o=0;for(let l=0;l<t.formatPattern.length;l++){let n=t.formatPattern[l],c=a.substring(o,o+n);if(c.length>0){s+=c;let d=a.substring(o+n);l<t.formatPattern.length-1&&c.length===n&&d.length>0&&(s+=" ")}o+=n}return s}updateInputConfig(){let e=this.iti.getSelectedCountryData(),t=e&&e.iso2?e.iso2:"fr",r=this.countryConfigs[t]||this.countryConfigs.fr;this.input.placeholder=r.placeholder,this.input.setAttribute("data-phone",t),this.input.setAttribute("maxlength",r.maxLength)}setupEventListeners(){this.input.addEventListener("countrychange",()=>{this.input.value="",this.input.setCustomValidity(""),this.updateInputConfig(),this.input.dispatchEvent(new CustomEvent("phone:validation",{bubbles:!0}))}),this.input.addEventListener("input",e=>{if(this.isFormatting)return;this.isFormatting=!0;let t=this.iti.getSelectedCountryData(),r=t&&t.iso2?t.iso2:"fr",i=this.countryConfigs[r]||this.countryConfigs.fr,a=this.input.value,s=this.input.selectionStart,o=a.replace(/[^\d\s]/g,""),l=o.replace(/\s/g,"");l.length>0&&/^[1-9]/.test(l)&&"ch"!==r&&(o="0"+l),"ch"===r&&l.length>0&&/^[78]/.test(l)&&(o="0"+l);let n=this.formatPhoneNumber(o,i);if(n!==a){let c=a.length,d=n.length;this.input.value=n;let p=s;p=Math.max(0,Math.min(p=d>c&&" "===n[s]?s+1:d<c&&s>0&&" "===a[s-1]?s-1:s+(d-c),n.length)),this.input.setSelectionRange(p,p)}(a=this.input.value.trim())&&!i.regex.test(a)?this.input.setCustomValidity(`Format invalide. ${i.description}`):this.input.setCustomValidity(""),this.isFormatting=!1,this.input.dispatchEvent(new CustomEvent("phone:validation",{bubbles:!0}))}),this.input.addEventListener("keypress",e=>{let t=String.fromCharCode(e.which);/[\d\s]/.test(t)||e.preventDefault()})}validatePhone(){if(!this.input||!this.iti)return!1;let e=this.iti.getSelectedCountryData(),t=e&&e.iso2?e.iso2:"fr",r=this.countryConfigs[t]||this.countryConfigs.fr,i=this.input.value.trim();return""!==i&&r.regex.test(i)}},this.init()}init(){this.formWrapper.attr("novalidate","novalidate"),this.formWrapper.find('[data-contact-field="error"]').hide(),this.formWrapper.find('[data-contact-field="validate"]').hide(),this.formWrapper.find('[data-contact-field="time-wrapper"]').hide(),this.bindEvents(),this.setupAutreMomentRedirect()}setupAutreMomentRedirect(){let e=this.formWrapper.find('input[type="radio"][value="\xe0_un_autre_moment"]')[0];e&&$(e).on("change",e=>{e.target.checked&&window.open("https://cal.com/droneaxis-wyuqza/simulation","_blank")})}bindEvents(){this.formWrapper.on("click",e=>this.handleGlobalClick(e)),this.formWrapper.on("click touchstart",".form-contact_radio-wrapper",e=>this.handleRadioWrapperClick(e)),this.formWrapper.on("change",'input[type="radio"][data-contact-field="radio"]',e=>this.handleRadioChange(e)),this.formWrapper.on("focusin",'[data-contact-field="text"], [data-contact-field="phone"], [data-contact-field="postal"], [data-contact-field="date"]',e=>this.handleFocusIn(e)),this.formWrapper.on("focusout",'[data-contact-field="text"], [data-contact-field="phone"], [data-contact-field="postal"], [data-contact-field="date"]',e=>this.handleFocusOut(e)),this.formWrapper.on("input",'[data-contact-field="postal"]',e=>this.handlePostalInput(e)),this.formWrapper.on("input phone:validation",'[data-contact-field="phone"]',e=>this.handlePhoneValidationVisuals(e)),this.formWrapper.on("input change",'[data-contact-field="date"]',e=>this.handleDateInput(e)),this.formWrapper.on("input",'[data-contact-field="text"]:not([data-contact-field="phone"]):not([data-contact-field="postal"]):not([data-contact-field="date"])',e=>this.handleTextInput(e)),this.formWrapper.on("click",'input[type="submit"], button[type="submit"]',e=>this.handleSubmit(e)),$(document).on("click",'[data-form-contact="open"]',()=>this.handleReopen())}handleGlobalClick(e){$(e.target).closest('input[type="submit"], button[type="submit"]').length||this.removeAllErrorStyles()}removeAllErrorStyles(){this.formWrapper.find('[data-contact-field="text"], [data-contact-field="phone"], [data-contact-field="postal"], [data-contact-field="date"], [data-contact-field="radio-wrapper"]').each((e,t)=>{let r=t;$(t).is('[data-contact-field="date"]')&&(r=this.validator.getVisibleDateElement(t)),this.validator.cleanError(r)})}handleRadioWrapperClick(e){let t=$(e.currentTarget).find('input[type="radio"][data-contact-field="radio"]')[0];t&&"touchstart"===e.type&&(e.preventDefault(),t.checked=!0,$(t).trigger("change"))}handleRadioChange(e){let t=e.target.name,r=this.formWrapper.find(`input[type="radio"][data-contact-field="radio"][name="${t}"]`);if(r.each((e,t)=>{let r=$(t).closest('[data-contact-field="radio-wrapper"]')[0]||t;t.checked?(this.validator.cleanError(r),this.validator.getIcon(t,"error").hide(),this.validator.getIcon(t,"validate").show()):(r.style.setProperty("border","","important"),r.style.setProperty("box-shadow","","important"),this.validator.getIcon(t,"validate").hide())}),"contact-radio"===t){let i=this.formWrapper.find('[data-contact-field="time-wrapper"]'),a=this.formWrapper.find('[data-contact-field="date"]'),s=this.formWrapper.find('input[type="radio"][value="\xe0_un_autre_moment"]')[0];s&&s.checked||(i.slideUp(300),a.removeAttr("required"),a.each((e,t)=>{this.validator.hideSuccess(t),this.validator.cleanError(this.validator.getVisibleDateElement(t))}))}}handleFocusIn(e){let t=e.target;$(t).is('[data-contact-field="date"]')&&(t=this.validator.getVisibleDateElement(t)),this.validator.cleanError(t),this.validator.applySuccessShadow(t),$(t).is('[data-contact-field="phone"]')&&this.phoneIntl&&this.phoneIntl.validatePhone()&&this.validator.showSuccess(t,!0)}handleFocusOut(e){let t=e.target;$(t).is('[data-contact-field="date"]')&&(t=this.validator.getVisibleDateElement(t)),this.validator.removeShadow(t),$(t).is('[data-contact-field="phone"]')&&(this.phoneIntl&&this.phoneIntl.validatePhone()?this.validator.showSuccess(t,!1):this.validator.hideSuccess(t))}handlePostalInput(e){let t=e.target.value.replace(/\D/g,"");t.length>5&&(t=t.slice(0,5)),e.target.value=t,5===t.length?this.validator.showSuccess(e.target,document.activeElement===e.target):this.validator.hideSuccess(e.target)}handlePhoneValidationVisuals(e){let t=e.target,r=document.activeElement===t;setTimeout(()=>{this.phoneIntl&&this.phoneIntl.validatePhone()?this.validator.showSuccess(t,r):this.validator.hideSuccess(t)},10)}handleDateInput(e){""!==e.target.value.trim()?this.validator.showSuccess(e.target,document.activeElement===e.target):this.validator.hideSuccess(e.target)}handleTextInput(e){e.target.value.trim().length>1?this.validator.showSuccess(e.target,document.activeElement===e.target):this.validator.hideSuccess(e.target)}validateInputs(){let e=0;return this.formWrapper.find('[data-contact-field="text"], [data-contact-field="phone"], [data-contact-field="postal"], [data-contact-field="date"]').each((t,r)=>{if($(r).is('[data-contact-field="date"]')&&!$(r).attr("required"))return;let i=r,a=!0,s=r.value.trim();s||(a=!1),a&&$(r).is('[data-contact-field="postal"]')&&5!==s.length&&(a=!1),$(r).is('[data-contact-field="phone"]')&&(a=!!this.phoneIntl&&this.phoneIntl.validatePhone()),a?this.validator.showSuccess(i,!1):(this.validator.showError(i),e++)}),e}validateRadios(){let e=0,t=this.formWrapper.find('input[type="radio"][data-contact-field="radio"]:visible'),r={};for(let i in t.each((e,t)=>{let i=t.name;r[i]||(r[i]=[]),r[i].push(t)}),r){let a=r[i],s=a.some(e=>e.checked);s?a.forEach(e=>{let t=$(e).closest('[data-contact-field="radio-wrapper"]')[0]||e;this.validator.cleanError(t)}):(a.forEach(e=>{let t=$(e).closest('[data-contact-field="radio-wrapper"]')[0]||e;this.validator.showRadioError(t)}),e++)}return e}validateAllFields(){return this.validateInputs()+this.validateRadios()}async submitToN8n(){let e=this.validateAllFields();if(e>0){console.log("⛔ Contact non envoy\xe9, erreurs de validation");return}$("body").css("overflow","");let t=this.form[0],r=new FormData(t);try{let i=await fetch("https://n8n.beee.agency/webhook/droneaxis",{method:"POST",body:r});i.ok?this.handleSuccessfulSubmit():this.showErrorMessage()}catch(a){console.error("❌ Erreur n8n (contact):",a),this.showErrorMessage()}}handleSuccessfulSubmit(){this.hasSubmitted=!0,window.unlockScrollContact&&window.unlockScrollContact(),document.body.style.setProperty("overflow","visible","important"),document.querySelectorAll(".form-contact_form").forEach(e=>e.style.setProperty("display","block","important")),document.querySelectorAll(".form-contact_success").forEach(e=>e.style.setProperty("display","none","important")),document.querySelectorAll(".form-contact_error").forEach(e=>e.style.setProperty("display","none","important")),document.querySelectorAll('[data-form-contact="page"]').forEach(e=>e.style.setProperty("display","none","important"));let e=this.form[0];e&&"function"==typeof e.reset&&e.reset(),this.formWrapper.find('[data-contact-field="time-wrapper"]').hide(),this.formWrapper.find('[data-contact-field="date"]').removeAttr("required"),this.removeAllErrorStyles(),this.formWrapper.find('[data-contact-field="validate"]').hide(),this.phoneIntl&&this.phoneIntl.input&&(this.phoneIntl.input.value="",this.phoneIntl.updateInputConfig()),this.popup.show()}showErrorMessage(){$(".form-contact_error").css("display","block"),$(".form-contact_success").hide()}handleSubmit(e){e.preventDefault(),e.stopPropagation(),this.submitToN8n()}handleReopen(){this.hasSubmitted&&($(".form-contact_success").hide(),$(".form-contact_error").hide(),$(".form-contact_form").css("display","block"))}}("#form-contact")}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){gsap.registerPlugin(ScrollTrigger,SplitText);let e=[],t;function r(){e.forEach(e=>e.revert()),e=[],document.querySelectorAll('[data-heading=""]').forEach(t=>{let r=t.querySelectorAll(".main-span");if(!t.textContent.trim())return;r.forEach(e=>{let t=e.previousSibling;t&&3===t.nodeType&&/\s$/.test(t.textContent)||e.dataset.spaceAdded||(e.insertAdjacentText("beforebegin"," "),e.dataset.spaceAdded="true")});let i=new SplitText(t,{type:"words",wordsClass:"split-word-wrapper",elementClass:!1,ignore:".main-span",position:"relative"});e.push(i);let a=i.words.map(e=>{let t=window.getComputedStyle(e.parentNode);return e.dataset.splitWord="true",e.style.display="inline-block",e.style.lineHeight=t.lineHeight,e.style.textDecoration=t.textDecoration,e.style.fontSize=t.fontSize,e.style.fontWeight=t.fontWeight,e.style.color=t.color,e});if(!a.length)return;let s="true"===t.dataset.animated;if(s){gsap.set(a,{filter:"blur(0px)",y:0,opacity:1}),r.forEach(e=>{gsap.set(e,{filter:"blur(0px)",y:0,opacity:1,"--bgY":"0%"})});return}gsap.set(a,{filter:"blur(20px)",y:40,opacity:0,willChange:"filter, y, opacity"}),r.forEach(e=>{gsap.set(e,{filter:"blur(20px)",y:40,opacity:0,"--bgY":"100%"})});let o=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){t.dataset.animated="true";let i=gsap.timeline();i.to(a,{filter:"blur(0px)",y:0,opacity:1,duration:.9,stagger:.04,ease:"power3.out"}),r.forEach(e=>{i.to(e,{filter:"blur(0px)",y:0,opacity:1,"--bgY":"0%",duration:.6,ease:"power3.out"},"-=0.8")}),o.unobserve(t)}})},{threshold:.3,rootMargin:"0px 0px -10% 0px"});o.observe(t)})}gsap.context(()=>{r()}),window.addEventListener("resize",()=>{clearTimeout(t),t=setTimeout(()=>{r()},10)})}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){var e=document.querySelector('[data-navbar=""]'),t=document.querySelector('[data-hero=""]'),r=document.querySelector('[data-navbar-menu-btn=""]'),i=document.querySelector(".navbar_menu-button-inner"),a=e?e.querySelectorAll('[data-link-line="line"]'):[],s=r?r.getAttribute("aria-controls"):null,o=s?document.getElementById(s):null,l=!1;if(!e||!r)return;var n=e.hasAttribute("data-navbar-legal");let c=!1,d=e=>{c&&e.preventDefault()},p=e=>{if(!c)return;let t=["ArrowUp","ArrowDown","PageUp","PageDown","Home","End","Space"];(t.includes(e.code)||t.includes(e.key))&&e.preventDefault()};function u(e){a.forEach(function(t){t.style.backgroundColor=e})}function h(e){e?document.body.style.overflowX="hidden":document.body.style.overflowX=""}function f(){n&&(e.style.backgroundColor="rgba(255, 255, 255, 0.5)",e.style.backdropFilter="blur(10px)",e.style.webkitBackdropFilter="blur(10px)",e.style.color="var(--_variables-collection---text-color--text-primary)",u("#0a0a0a"))}function y(){if(n){f();return}if(!l){var r=window.scrollY,i=window.innerWidth<768;if(!t){r>0?(e.style.backgroundColor="rgba(255, 255, 255, 0.5)",e.style.backdropFilter="blur(10px)",e.style.webkitBackdropFilter="blur(10px)",e.style.color=i?"black":"var(--_variables-collection---text-color--text-primary)",u("#0a0a0a")):g();return}var a,s=r,o=e.getBoundingClientRect(),c=t.getBoundingClientRect();o.bottom+s>c.bottom+s?(e.style.backgroundColor="rgba(255, 255, 255, 0.5)",e.style.backdropFilter="blur(10px)",e.style.webkitBackdropFilter="blur(10px)",e.style.color=i?"black":"var(--_variables-collection---text-color--text-primary)",u("#0a0a0a")):r>0?(e.style.backgroundColor="rgba(0, 0, 0, 0.25)",e.style.backdropFilter="blur(10px)",e.style.webkitBackdropFilter="blur(10px)",e.style.color="",u("")):g()}}function g(){if(n){f();return}e.style.backgroundColor="transparent",e.style.backdropFilter="none",e.style.webkitBackdropFilter="none",e.style.color="",u("")}function m(){l=!0,e.style.backgroundColor="#F2F2F2",e.style.backdropFilter="none",e.style.webkitBackdropFilter="none",e.style.color="black",i&&(i.style.color="black"),u("#0a0a0a"),h(!0),c=!0,window.addEventListener("wheel",d,{passive:!1}),window.addEventListener("touchmove",d,{passive:!1}),window.addEventListener("keydown",p,{passive:!1})}function b(){l=!1,i&&(i.style.color=""),h(!1),c=!1,window.removeEventListener("wheel",d),window.removeEventListener("touchmove",d),window.removeEventListener("keydown",p),n?f():y()}if(r&&o){var v=new MutationObserver(function(){r.classList.contains("w--open")?m():b()}),w=new MutationObserver(function(e){e.forEach(function(e){"style"===e.attributeName&&"none"===o.style.display&&b()})});v.observe(r,{attributes:!0,attributeFilter:["class"]}),w.observe(o,{attributes:!0,attributeFilter:["style"]}),r.classList.contains("w--open")?m():n&&f()}window.addEventListener("scroll",y),window.addEventListener("resize",y),y()}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){let e=new class e{constructor(){this.tvaRate=1.1,this.configs={"slider-1":{type:"roof",priceTier1:6.9,priceTier2:6.9,tierLimit:100,min:0,max:250,step:1,defaultStart:0},"slider-2":{type:"linear",pricePerM2:6.9,min:0,max:150,step:1},"slider-3":{type:"linear",pricePerM2:12.9,min:0,max:150,step:1},"slider-4":{type:"linear",pricePerM2:4.9,min:0,max:100,step:1}},this.init()}init(){let e=document.querySelectorAll('[data-range="slider-container"]');e.forEach(e=>this.initSingleSlider(e)),this.initToggles(),this.initFormSteps(),this.initGlobalListeners(),this.initRadioStyles(),setTimeout(()=>this.updateGlobalCalculator(),50)}initFormSteps(){let e=document.querySelector('[data-form-steps="2"]');e&&(e.style.display="none")}initToggles(){let e=document.querySelectorAll('[data-toggle="checkbox"]');e.forEach(e=>{let t=e.closest(".price_checkbox-wrapper");if(!t)return;t.style.webkitTapHighlightColor="transparent";let r=t.querySelector('[data-toggle="circle"]'),i=t.querySelector('[data-toggle="background"]');r&&i&&(r.style.transition="transform 0.35s ease, background-color 0.35s ease",i.style.transition="background-color 0.35s ease",this.updateSingleToggleVisual(e),e.addEventListener("change",()=>{this.updateSingleToggleVisual(e),"offre_duo"===e.name&&this.updateGlobalCalculator()}))})}updateSingleToggleVisual(e){let t=e.closest(".price_checkbox-wrapper");if(!t)return;let r=t.querySelector('[data-toggle="circle"]'),i=t.querySelector('[data-toggle="background"]'),a=document.querySelector('[span][data-toggle="text"], [data-toggle="text"]'),s=e.checked;a&&this.updateDisplay(a,s?"Oui":"Non"),r&&i&&(s?(r.style.transform="translate(100%, -50%)",r.style.backgroundColor="#FFFFFF",i.style.backgroundColor="#192BC2"):(r.style.transform="translate(0%, -50%)",r.style.backgroundColor="#192BC2",i.style.backgroundColor="#FFFFFF"))}initSingleSlider(e){let t=e.getAttribute("range")||"default",r=this.configs[t]||{type:"linear",pricePerM2:0,min:0,max:100,step:1},i=r.min,a=r.max,s=a-i,o=e.closest(".price_form-item");o&&!o.querySelector('[data-range="text-mask"]')&&(o=o.parentElement.closest(".price_form-item")||document);let l=e.closest(".price_range-wrap"),n=null;"slider-1"===t?n=l?.querySelector('[data-range="value_toiture"]')||o.querySelector('[data-range="value_toiture"]'):"slider-2"===t?n=l?.querySelector('[data-range="value_demoussage_nettoyage"]')||o.querySelector('[data-range="value_facades_demoussage"]'):"slider-3"===t?n=l?.querySelector('[data-range="value_facades_hydrofuge"]')||o.querySelector('[data-range="value_facades_hydrofuge"]'):"slider-4"===t&&(n=l?.querySelector('[data-range="value_gouttieres"]')||o.querySelector('[data-range="value_gouttieres"]'));let c={fill:e.querySelector('[data-range="slider-fill"]'),thumb:e.querySelector('[data-range="slider-thumb"]'),textMask:o.querySelector('[data-range="text-mask"]'),m2Display:n};c.textMask&&(c.textMask.style.overflow="hidden");let d={currentVal:-1,isDragging:!1},p=void 0!==r.defaultStart?r.defaultStart:i,u=this.calculateLocalPrice(t,p,r);e.setAttribute("data-value",p),e.setAttribute("data-price",u),c.textMask&&this.updateRollingText(c.textMask,u);let h;h="slider-1"===t?(0===p?0:p-49)/201*100:"slider-2"===t||"slider-3"===t?(0===p?0:p-24)/126*100:(p-i)/s*100,c.fill&&gsap.set(c.fill,{width:h+"%"}),c.thumb&&gsap.set(c.thumb,{left:h+"%"}),d.currentVal=p;let f=(o,l=!1)=>{if("true"===e.getAttribute("data-locked"))return;let n=e.getBoundingClientRect(),p=(o-n.left)/n.width*100;p=Math.max(0,Math.min(100,p));let u,h;if("slider-1"===t){let f=Math.round(p/100*201);u=Math.max(0,Math.min(250,u=0===f?0:49+f)),h=f/201*100}else if("slider-2"===t||"slider-3"===t){let y=Math.round(p/100*126);u=Math.max(0,Math.min(150,u=0===y?0:24+y)),h=y/126*100}else u=Math.round((i+p/100*s)/r.step)*r.step,u=Math.max(i,Math.min(a,u)),h=l?(u-i)/s*100:p;if(l?this.animateVisuals(c,h,.5,"back.out(1.2)"):this.animateVisuals(c,h,"slider-1"===t||"slider-2"===t||"slider-3"===t?.05:.1,"power2.out"),u!==d.currentVal||l){let g=this.calculateLocalPrice(t,u,r);u!==d.currentVal&&this.updateRollingText(c.textMask,g);let m=Math.round(u);c.m2Display&&this.updateDisplay(c.m2Display,m),e.setAttribute("data-value",m),e.setAttribute("data-price",g),d.currentVal=m,this.updateGlobalCalculator()}},y=t=>{if("true"===e.getAttribute("data-locked"))return;t.preventDefault(),d.isDragging=!0,document.body.style.userSelect="none";let r=t.touches&&t.touches.length>0?t.touches[0].clientX:t.clientX;f(r,!1)},g=e=>{if(!d.isDragging)return;e.preventDefault();let t=e.touches&&e.touches.length>0?e.touches[0].clientX:e.clientX;f(t,!1)},m=e=>{if(!d.isDragging)return;d.isDragging=!1,document.body.style.userSelect="";let t=e.changedTouches&&e.changedTouches.length>0?e.changedTouches[0].clientX:e.clientX;f(t,!0)};e.addEventListener("mousedown",y),window.addEventListener("mousemove",g),window.addEventListener("mouseup",m),e.addEventListener("touchstart",y,{passive:!1}),window.addEventListener("touchmove",g,{passive:!1}),window.addEventListener("touchend",m)}animateVisuals(e,t,r,i){e.fill&&e.thumb&&(gsap.killTweensOf(e.fill),gsap.killTweensOf(e.thumb),gsap.to(e.fill,{width:t+"%",duration:r,ease:i}),gsap.to(e.thumb,{left:t+"%",duration:r,ease:i}))}updateRollingText(e,t){if(!e)return;let r="sum_ttc"===e.getAttribute("data-range"),i=r?e.querySelector('[data-range="sum_ttc_value"]'):e.querySelector('[data-range="price"]')||e;i||(i=e),i.innerText=this.formatMoney(t)}updateDisplay(e,t){if(e){if("INPUT"===e.tagName)e.value=t,e.dispatchEvent(new Event("change",{bubbles:!0}));else if("STRONG"===e.tagName||"B"===e.tagName)e.textContent=t,e.style.display="";else{let r=e.querySelector("strong, b");r?(r.textContent=t,r.style.display=""):e.textContent=t}}}updateDisplayBySelector(e,t){let r=document.querySelectorAll(e);r.forEach(e=>this.updateDisplay(e,t))}updateSliderWithUnit(e,t,r,i){let a=document.querySelectorAll(e);a.forEach(e=>{let a=document.querySelector(t);if(a||(a=e.closest("p, div")),!a)return;let s=Array.from(a.querySelectorAll("strong")),o=s.find(t=>!e.contains(t)&&t!==e);0===r?(this.updateDisplay(e,"Non"),o&&(o.style.display="none")):(this.updateDisplay(e,r),o&&(o.style.display="",o.textContent=i))})}manageDuoLock(e){let t=document.querySelector('[data-toggle="wrapper"]'),r=document.querySelector('[data-toggle="circle"]'),i=document.querySelector('input[name="offre_duo"]'),a=document.querySelector('[data-toggle="background"]'),s=document.querySelector('[data-toggle="checkbox"]');if(t&&i){if(0===e){!i.disabled&&(i.disabled=!0,i.checked&&(i.checked=!1,r&&(r.style.transform="translate(0%, -50%)")));let o=document.querySelector('[span][data-toggle="text"], [data-toggle="text"]');o&&this.updateDisplay(o,"Non"),t.style.pointerEvents="auto",t.style.cursor="not-allowed",s&&(s.style.cursor="not-allowed"),r&&(r.style.backgroundColor="#a3a3a3"),a&&(a.style.backgroundColor="#FFFFFF")}else i.disabled=!1,t.style.pointerEvents="auto",t.style.cursor="pointer",s&&(s.style.cursor="pointer"),this.updateSingleToggleVisual(i)}}manageSlider4Lock(e,t,r){let i=document.querySelector('[range="slider-4"]');if(!i)return;let a=i.closest(".price_form-item")||i.parentElement,s=i.querySelector('[data-range="slider-thumb"]'),o=a.querySelector('[data-range="text"]');if(0===e&&0===t&&0===r){i.setAttribute("data-locked","true"),i.style.cursor="not-allowed",s&&(s.style.cursor="not-allowed"),s&&(s.style.backgroundColor="#a3a3a3"),o&&(o.style.backgroundColor="#a3a3a3"),i.setAttribute("data-value",0),i.setAttribute("data-price",0);let l=i.closest(".price_range-wrap"),n=l?.querySelector('[data-range="value_gouttieres"]')||a.querySelector('[data-range="value_gouttieres"]');n&&this.updateDisplay(n,0);let c=i.querySelector('[data-range="slider-fill"]');c&&gsap.to(c,{width:"0%",duration:.6,ease:"power2.out"}),s&&gsap.to(s,{left:"0%",duration:.6,ease:"power2.out"});let d=a.querySelector('[data-range="text-mask"]');d&&this.updateRollingText(d,0)}else i.removeAttribute("data-locked"),i.style.cursor="",s&&(s.style.cursor=""),s&&(s.style.backgroundColor="#192bc2"),o&&(o.style.backgroundColor="#192bc2")}calculateLocalPrice(e,t,r){if(0===t)return 0;if("roof"===r.type){let i=this.getSlopeCoefficient(),a=t*i;return a<=r.tierLimit?a*r.priceTier1:r.tierLimit*r.priceTier1+(a-r.tierLimit)*r.priceTier2}return Math.max(r.min,t)*r.pricePerM2}getSlopeCoefficient(){let e=document.querySelector('input[data-radio="slops"]:checked');if(!e)return 1;switch(e.value){case"pente_faible":return 1.155;case"pente_moyenne":return 1.414;case"pente_forte":return 1.743;default:return 1}}updateGlobalCalculator(){let e=document.querySelector('input[data-radio="slops"]:checked'),t=document.querySelector('[data-radio="text"]');if(e&&t){let r="faible";"pente_moyenne"===e.value&&(r="moyenne"),"pente_forte"===e.value&&(r="forte"),this.updateDisplay(t,r)}let i=e=>{let t=document.querySelector(`[range="${e}"]`);return{price:t&&parseFloat(t.getAttribute("data-price"))||0,value:t&&parseFloat(t.getAttribute("data-value"))||0}},a=document.querySelector('[range="slider-1"]'),s=0;if(a){s=parseFloat(a.getAttribute("data-value"))||0;let o=this.getSlopeCoefficient(),l=s*o;this.updateDisplayBySelector('[data-radio="coef"]',o.toFixed(3)),this.updateDisplayBySelector('[data-radio="slops-text"]',l.toFixed(1).replace(".",",")),this.updateDisplayBySelector('input[name="surface_nettoyage_toiture_estimer"]',l.toFixed(1).replace(".",","))}this.manageDuoLock(s);let n=i("slider-1"),c=i("slider-2"),d=i("slider-3");this.manageSlider4Lock(n.value,c.value,d.value);let p=i("slider-1"),u=i("slider-2"),h=i("slider-3"),f=i("slider-4");this.updateSliderWithUnit('[data-range="slider-2_value"]','[data-range="slider-2_value-text"]',u.value,"m\xb2"),this.updateSliderWithUnit('[data-range="slider-3_value"]','[data-range="slider-3_value-text"]',h.value,"m\xb2"),this.updateSliderWithUnit('[data-range="slider-4_value"]','[data-range="slider-4_value-text"]',f.value,"mL"),this.updateDisplayBySelector('input[name="surface_nettoyage_toiture"]',p.value),this.updateDisplayBySelector('input[name="surface_demoussage"]',u.value),this.updateDisplayBySelector('input[name="surface_protection_hydrofuge"]',h.value),this.updateDisplayBySelector('input[name="volume_nettoyage_gouttieres"]',f.value),this.updateDisplayBySelector('[data-range="value_toiture_result"]',this.formatMoney(p.price).replace("€","").trim()),this.updateDisplayBySelector('[data-range="value_surface_demoussage"]',this.formatMoney(u.price).replace("€","").trim()),this.updateDisplayBySelector('[data-range="value_surface_protection_hydrofuge"]',this.formatMoney(h.price).replace("€","").trim()),this.updateDisplayBySelector('[data-range="value_facades_result"]',this.formatMoney(u.price+h.price).replace("€","").trim()),this.updateDisplayBySelector('[data-range="value_gouttieres_result"]',this.formatMoney(f.price).replace("€","").trim()),this.updateDisplayBySelector('input[data-range="value_toiture_result"][name="prix_surface_nettoyage_toiture"]',p.price.toFixed(2).replace(".",",")),this.updateDisplayBySelector('input[data-range="value_surface_demoussage"][name="prix_surface_demoussage"]',u.price.toFixed(2).replace(".",",")),this.updateDisplayBySelector('input[data-range="value_surface_protection_hydrofuge"][name="prix_surface_protection_hydrofuge"]',h.price.toFixed(2).replace(".",",")),this.updateDisplayBySelector('input[data-range="value_gouttieres_result"][name="prix_voulume_nettoyage_gouttieres"]',f.price.toFixed(2).replace(".",","));let y=p.price+u.price+h.price+f.price,g=document.querySelector('input[name="offre_duo"]')?.checked,m=0;g&&(y=Math.max(0,y-(m=150)));let b=document.querySelectorAll('[data-range="duo"]');b.forEach(e=>e.style.display=g?"flex":"none");let v=document.querySelectorAll('[data-toggle="reduction"]');v.forEach(e=>{e.style.opacity=g?"1":"0"});let w=y/this.tvaRate,_=document.querySelectorAll('[data-range="sum_ttc"]');_.forEach(e=>{let t=parseFloat(e.getAttribute("data-prev-val"))||0;Math.abs(y-t)>.01&&(this.updateRollingText(e,y),e.setAttribute("data-prev-val",y))}),this.updateDisplayBySelector('[data-range="ht"]',this.formatMoney(w)),this.updateDisplayBySelector('input[data-range="ht"][name="prix_ht"]',w.toFixed(2).replace(".",",")),this.updateDisplayBySelector('input[data-range="ttc"][name="prix_ttc"]',y.toFixed(2).replace(".",",")),this.updateDisplayBySelector('input[name="remise_duo"]',g?m.toFixed(2).replace(".",","):"0,00")}formatMoney(e){return e.toFixed(2).replace(".",",")+"€"}initGlobalListeners(){let e=document.querySelectorAll('input[data-radio="slops"]');e.forEach(e=>{e.addEventListener("change",()=>{let e=document.querySelector('[range="slider-1"]');if(e){let t=parseFloat(e.getAttribute("data-value"))||0,r=this.configs["slider-1"],i=this.calculateLocalPrice("slider-1",t,r);e.setAttribute("data-price",i);let a=e.closest(".price_form-item")?.querySelector('[data-range="text-mask"]');a&&this.updateRollingText(a,i)}this.refreshRadioStyles(),this.updateGlobalCalculator()})});let t=document.querySelector('input[name="offre_duo"]');t&&t.addEventListener("change",()=>this.updateGlobalCalculator());let r=document.querySelectorAll('[data-radio="pente-wrapper"]');r.forEach(e=>{let t=e.querySelector('input[data-radio="slops"]');if(!t)return;let r=e=>{e.target===t||(e.preventDefault(),e.stopPropagation(),t.checked||(t.checked=!0,t.dispatchEvent(new Event("change",{bubbles:!0}))))};e.addEventListener("click",r),e.addEventListener("touchstart",r,{passive:!1})})}initRadioStyles(){this.refreshRadioStyles()}refreshRadioStyles(){let e=document.querySelectorAll('input[data-radio="slops"]');e.forEach(e=>this.toggleRadioStyle(e))}toggleRadioStyle(e){let t=e.closest('[data-radio="pente-wrapper"]');t&&(e.checked?(t.style.border="1px solid #008000",t.style.color="#1faf38"):(t.style.border="",t.style.color=""))}};window.PriceCalculatorInstance=e,setTimeout(()=>{let t=document.querySelector('input[value="pente_moyenne"]');t&&!t.checked&&(t.checked=!0,t.dispatchEvent(new Event("change",{bubbles:!0})),e.refreshRadioStyles())},50)}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){let e={urls:{n8n_webhook:"https://n8n.beee.agency/webhook/droneaxis",intl_tel_utils:"https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/js/utils.js"},selectors:{phone_input:"input[data-phone]",prix_ttc:'input[name="prix_ttc"][data-range="ttc"]',prix_ht:'input[name="prix_ht"]',price_fields_inputs:['input[name="prix_surface_nettoyage_toiture"]','input[name="prix_surface_demoussage"]','input[name="prix_surface_protection_hydrofuge"]','input[name="prix_voulume_nettoyage_gouttieres"]'],wrapper_price:".price_form-input-wrapper",input_with_field:'[data-field="input"]',radio_wrapper:"[data-radio]",radio_input:'input[type="radio"]',input_postal:"[data-postal]",input_mail:"[data-mail]",input_ttc_range:'[data-range="ttc"]',input_type_range:'[type="range"]',input_type_email:'input[type="email"]',form_step_1:'[data-form-steps="1"]',form_step_2:'[data-form-steps="2"]',btn_next:'[data-btn="form"]',btn_prev:'[data-form="return"]',btn_submit:'input[type="submit"], button[type="submit"]',anchor_step_2:"#etape-2",form_content:"[data-form-content]",form_wrapper:".w-form",msg_success:"[data-form-success]",msg_error:"[data-form-error]",field_error:'[data-field="error"]',field_validate:'[data-field="validate"]',global_form:"form",txt_surface_estimee:'[data-radio="slops-text"]',input_surface_estimee_result:'input[name="surface_nettoyage_toiture_estimer"]',btn_form_submit:'a[data-btn="form"]'},attributes:{data_phone:"data-phone",data_postal:"data-postal",data_mail:"data-mail",data_field:"data-field"},styles:{border_error:"1px solid #ff0000",shadow_error:"0 0 0 2px rgba(255, 0, 0, 0.1)",border_success:"1px solid #008000",shadow_success:"0 0 0 2px rgba(0, 128, 0, 0.1)",color_red_rgb:"rgb(255, 0, 0)",color_red_hex:"#ff0000",color_green_rgb:"rgb(0, 128, 0)",color_green_hex:"#008000"},regex:{email:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,not_digit:/\D/g,not_digit_space:/[^\d\s]/g},values:{tva_rate:1.2,locale:"fr-FR",countries:["fr","be","ch","de"],default_country:"fr"},field_names:{price_surface_nettoyage:"prix_surface_nettoyage_toiture",price_surface_demoussage:"prix_surface_demoussage",price_protection_hydrofuge:"prix_surface_protection_hydrofuge",price_volume_gouttieres:"prix_voulume_nettoyage_gouttieres"}};class t{constructor(){this.iti=null,this.input=null,this.is_formatting=!1,this.country_configs={fr:{placeholder:"07 12 34 56 78",regex:/^0[1-9](?:\s\d{2}){4}$/,max_length:14,format_pattern:[2,2,2,2,2],description:"format : 0x xx xx xx xx"},be:{placeholder:"04 76 64 64 64",regex:/^0[1-9](?:\s\d{2}){4}$/,max_length:14,format_pattern:[2,2,2,2,2],description:"format : 0x xx xx xx xx"},ch:{placeholder:"075 555 55 55",regex:/^0\d{2}\s\d{3}\s\d{2}\s\d{2}$/,max_length:13,format_pattern:[3,3,2,2],description:"format : 0xx xxx xx xx"},de:{placeholder:"0171 123 4567",regex:/^0\d{3,4}\s\d{3}\s\d{4}$/,max_length:14,format_pattern:[4,3,4],description:"format : 0xxx xxx xxxx"}},this.init()}init(){this.input=document.querySelector(e.selectors.phone_input),this.input&&window.intlTelInput&&(this.iti=window.intlTelInput(this.input,{utilsScript:e.urls.intl_tel_utils,initialCountry:e.values.default_country,preferredCountries:[e.values.default_country],onlyCountries:e.values.countries,nationalMode:!0,formatOnDisplay:!0,separateDialCode:!1}),this.setup_event_listeners(),setTimeout(()=>this.update_input_config(),200))}format_phone_number(e,t){let r=e.replace(/\s/g,""),i=t.format_pattern.reduce((e,t)=>e+t,0),a=r.substring(0,i),s="",o=0;for(let l=0;l<t.format_pattern.length;l++){let n=t.format_pattern[l],c=a.substring(o,o+n);if(c.length>0){s+=c;let d=a.substring(o+n);l<t.format_pattern.length-1&&c.length===n&&d.length>0&&(s+=" ")}o+=n}return s}update_input_config(){let t=this.iti.getSelectedCountryData(),r=t&&t.iso2?t.iso2:e.values.default_country,i=this.country_configs[r]||this.country_configs.fr;this.input.placeholder=i.placeholder,this.input.setAttribute(e.attributes.data_phone,r),this.input.setAttribute("maxlength",i.max_length)}setup_event_listeners(){this.input.addEventListener("countrychange",()=>{this.input.value="",this.input.setCustomValidity(""),this.update_input_config(),s.clean_error_style(this.input),s.hide_success(this.input)}),this.input.addEventListener("input",()=>{if(this.is_formatting)return;this.is_formatting=!0;let t=this.iti.getSelectedCountryData(),r=t&&t.iso2?t.iso2:e.values.default_country,i=this.country_configs[r]||this.country_configs.fr,a=this.input.value,s=this.input.selectionStart,o=a.replace(e.regex.not_digit_space,""),l=o.replace(/\s/g,"");l.length>0&&/^[1-9]/.test(l)&&"ch"!==r&&(o="0"+l),"ch"===r&&l.length>0&&/^[78]/.test(l)&&(o="0"+l);let n=this.format_phone_number(o,i);if(n!==a){let c=a.length,d=n.length;this.input.value=n;let p=s;p=Math.max(0,Math.min(p=d>c&&" "===n[s]?s+1:d<c&&s>0&&" "===a[s-1]?s-1:s+(d-c),n.length)),this.input.setSelectionRange(p,p)}(a=this.input.value.trim())&&!i.regex.test(a)?this.input.setCustomValidity(`Format invalide. ${i.description}`):this.input.setCustomValidity(""),this.is_formatting=!1}),this.input.addEventListener("keypress",e=>{let t=String.fromCharCode(e.which);/[\d\s]/.test(t)||e.preventDefault()})}validate_phone(){let t=this.iti.getSelectedCountryData(),r=t&&t.iso2?t.iso2:e.values.default_country,i=this.country_configs[r]||this.country_configs.fr,a=this.input.value.trim();return a&&i.regex.test(a)}}class r{static border_error=e.styles.border_error;static shadow_error=e.styles.shadow_error;static border_success=e.styles.border_success;static shadow_success=e.styles.shadow_success;static email_regex=e.regex.email;static price_fields=[e.field_names.price_surface_nettoyage,e.field_names.price_surface_demoussage,e.field_names.price_protection_hydrofuge,e.field_names.price_volume_gouttieres]}class i{constructor(){this.prix_ttc_input=$(e.selectors.prix_ttc),this.prix_ht_input=$(e.selectors.prix_ht)}update_prix_ttc(){this.prix_ht_input.val(),this.prix_ttc_input.val()}}class a{static get_related_icon(t,r){let i=$(t).closest(e.selectors.wrapper_price);if(i.length>0)return i.find("["+e.attributes.data_field+'="'+r+'"]');{let a=$(t).siblings("["+e.attributes.data_field+'="'+r+'"]');return a.length?a:$(t).parent().find("["+e.attributes.data_field+'="'+r+'"]')}}}class s{static clean_error_style(t){(t.style.borderColor===e.styles.color_red_rgb||t.style.borderColor===e.styles.color_red_hex)&&(t.style.border="",t.style.boxShadow="",a.get_related_icon(t,"error").hide())}static show_success(e,t=!1){this.clean_error_style(e),e.style.border=r.border_success,e.style.boxShadow=t?r.shadow_success:"",a.get_related_icon(e,"validate").show()}static show_error(e,t=!1){this.clean_error_style(e),e.style.border=r.border_error,e.style.boxShadow=t?r.shadow_error:"",a.get_related_icon(e,"error").show()}static hide_success(t){(t.style.borderColor===e.styles.color_green_rgb||t.style.borderColor===e.styles.color_green_hex)&&(t.style.border="",t.style.boxShadow=""),a.get_related_icon(t,"validate").hide()}static remove_all_error_styles(){$(e.selectors.input_with_field).each(function(){s.clean_error_style(this)}),$(e.selectors.radio_wrapper).each(function(){s.clean_error_style(this)})}}class o{static phone_international_instance=null;static set_phone_international(e){this.phone_international_instance=e}static validate_input(t){let i=$(t),a=t.value.trim(),s=!0;return a?i.is(e.selectors.input_postal)&&5!==a.length?s=!1:i.is(e.selectors.phone_input)?s=!!this.phone_international_instance&&this.phone_international_instance.validate_phone():(i.is(e.selectors.input_mail)||"email"===t.type)&&!r.email_regex.test(a)&&(s=!1):s=!1,i.is(e.selectors.input_ttc_range)&&(s=!0),s}static validate_radio_groups(t){let i=$(e.selectors.radio_wrapper+":visible",t),o={},l=0;for(let n in i.each(function(){let t=$(this).find(e.selectors.radio_input)[0];t&&(o[t.name]||(o[t.name]=[]),o[t.name].push(this))}),o){let c=$('input[name="'+n+'"]:checked',t).length>0,d=o[n];c?d.forEach(e=>s.clean_error_style(e)):(d.forEach(e=>{e.style.border=r.border_error,e.style.boxShadow=r.shadow_error,a.get_related_icon(e,"error").show()}),l++)}return l}static validate_visible_fields(){let t=0;return $(e.selectors.input_with_field+":visible:not("+e.selectors.input_ttc_range+"):not("+e.selectors.input_type_range+")").each(function(){let e=o.validate_input(this);e?(s.clean_error_style(this),s.show_success(this,!1)):(s.hide_success(this),s.show_error(this,!1),t++)}),t+=o.validate_radio_groups(document)}static validate_contact_fields(t){let r=0;return $(e.selectors.input_with_field+":visible",t).each(function(){let e=o.validate_input(this);e?(s.clean_error_style(this),s.show_success(this,!1)):(s.hide_success(this),s.show_error(this,!1),r++)}),r+=o.validate_radio_groups(t)}}class l{static format_postal(t){let r=t.target.value.replace(e.regex.not_digit,"");r.length>5&&(r=r.slice(0,5)),t.target.value=r,5===r.length?s.show_success(t.target,!1):s.hide_success(t.target)}static format_email(e){r.email_regex.test(e.target.value)?s.show_success(e.target,!1):s.hide_success(e.target)}static format_generic(e){e.value.trim().length>1?s.show_success(e,!1):s.hide_success(e)}}class n{constructor(e){this.price_calculator=e,this.setup_event_listeners()}setup_event_listeners(){$(document).on("click touchstart",e.selectors.radio_wrapper,this.handle_click.bind(this)),$(document).on("change",e.selectors.radio_input,this.handle_change.bind(this))}handle_click(t){let r=$(t.currentTarget).find(e.selectors.radio_input)[0];r&&"touchstart"===t.type&&(t.preventDefault(),r.checked=!0,$(r).trigger("change"))}handle_change(t){let r=t.target.name,i=$(e.selectors.radio_wrapper).filter(function(){let t=$(this).find(e.selectors.radio_input)[0];return t&&t.name===r});i.each(function(){let t=$(this).find(e.selectors.radio_input)[0];t&&(t.checked?(s.clean_error_style(this),s.show_success(this,!1)):((this.style.borderColor===e.styles.color_green_rgb||this.style.borderColor===e.styles.color_green_hex)&&(this.style.border="",this.style.boxShadow=""),a.get_related_icon(this,"validate").hide()))}),this.price_calculator.update_prix_ttc()}}class c{constructor(e,t){this.price_calculator=e,this.phone_international=t,this.setup_event_listeners()}setup_event_listeners(){$(document).on("focusin",e.selectors.input_with_field+":not("+e.selectors.input_ttc_range+"):not("+e.selectors.phone_input+")",this.handle_focus_in.bind(this)),$(document).on("focusout",e.selectors.input_with_field,this.handle_focus_out.bind(this)),$(document).on("input",e.selectors.input_postal,l.format_postal),$(document).on("input",e.selectors.input_mail,l.format_email),$(document).on("input change",'input[name^="prix_"]:not([name="prix_ttc"])',this.handle_price_change.bind(this)),$(document).on("input",e.selectors.input_with_field+":not("+e.selectors.input_postal+"):not("+e.selectors.phone_input+"):not("+e.selectors.input_mail+"):not("+e.selectors.input_ttc_range+")",this.handle_generic_input.bind(this)),$(document).on("input",e.selectors.phone_input,e=>{this.phone_international&&this.phone_international.validate_phone()?s.show_success(e.target,!1):s.hide_success(e.target)}),$(document).on("focusin",e.selectors.phone_input,e=>{this.phone_international&&this.phone_international.validate_phone()&&s.show_success(e.target,!0)})}handle_focus_in(t){let i=t.target.value.trim(),a=!0;i?$(t.target).is(e.selectors.input_postal)&&5!==i.length?a=!1:$(t.target).is(e.selectors.input_mail)&&!r.email_regex.test(i)?a=!1:i.length<=1&&(a=!1):a=!1,a&&s.show_success(t.target,!0)}handle_focus_out(t){(t.target.style.borderColor===e.styles.color_green_rgb||t.target.style.borderColor===e.styles.color_green_hex||t.target.style.borderColor===e.styles.color_red_rgb||t.target.style.borderColor===e.styles.color_red_hex)&&(t.target.style.boxShadow="")}handle_price_change(){this.price_calculator.update_prix_ttc()}handle_generic_input(e){l.format_generic(e.target)}}class d{constructor(){this.step_1=$(e.selectors.form_step_1),this.step_2=$(e.selectors.form_step_2),this.setup_event_listeners()}setup_event_listeners(){$(e.selectors.btn_next).click(this.handle_next_step.bind(this)),$(e.selectors.btn_prev).click(this.handle_previous_step.bind(this)),$(document).on("click",this.handle_document_click.bind(this))}handle_next_step(t){if(t.preventDefault(),t.stopPropagation(),this.step_1.is(":visible")){let r=o.validate_visible_fields();0===r&&this.step_1.animate({opacity:0},300,()=>{this.step_1.hide(),this.step_2.css({display:"grid",opacity:"0"}),this.step_2.animate({opacity:1},300),767>$(window).width()&&$("html, body").animate({scrollTop:$(e.selectors.anchor_step_2).offset().top},500)})}}handle_previous_step(e){e.preventDefault(),e.stopPropagation(),this.step_2.animate({opacity:0},300,()=>{this.step_2.hide(),this.step_1.css({display:"grid",opacity:"0"}),this.step_1.animate({opacity:1},300)})}handle_document_click(t){$(t.target).closest(e.selectors.btn_next+", "+e.selectors.btn_submit).length||s.remove_all_error_styles()}}class p{constructor(t){this.price_calculator=t,this.form_contact=$(e.selectors.form_content),this.form_contact_wrapper=this.form_contact.closest(e.selectors.form_wrapper),this.has_contact_submitted=!1,this.is_submitting=!1,this.submit_timeout=null,this.setup_event_listeners()}setup_event_listeners(){this.form_contact_wrapper.on("click",e.selectors.btn_submit,this.handle_submit.bind(this))}handle_submit(t){t.preventDefault(),t.stopPropagation();let r=o.validate_contact_fields(this.form_contact);if(r>0){let i=$(e.selectors.input_with_field+", "+e.selectors.radio_wrapper).filter(function(){return this.style.borderColor===e.styles.color_red_rgb||this.style.borderColor===e.styles.color_red_hex}).first();i.length&&768>$(window).width()&&$("html, body").animate({scrollTop:i.offset().top-200},500);return}this.is_submitting||(this.is_submitting=!0,clearTimeout(this.submit_timeout),this.submit_timeout=setTimeout(()=>{this.is_submitting=!1},3e3),this.price_calculator.update_prix_ttc(),this.post_to_n8n())}post_to_n8n(){$("body").css("overflow","");let t=this.form_contact[0],r=new FormData(t);fetch(e.urls.n8n_webhook,{method:"POST",body:r}).then(t=>{t.ok?(this.has_contact_submitted=!0,this.form_contact.hide(),$(e.selectors.msg_success).css("display","block"),$(e.selectors.msg_error).hide(),768>$(window).width()&&$("html, body").animate({scrollTop:$(e.selectors.msg_success).offset().top-200},500)):($(e.selectors.msg_error).css("display","block"),$(e.selectors.msg_success).hide(),this.is_submitting=!1)}).catch(()=>{$(e.selectors.msg_error).css("display","block"),$(e.selectors.msg_success).hide(),this.is_submitting=!1})}}new class r{constructor(){this.init()}init(){this.setup_form(),this.price_calculator=new i,this.phone_international=new t,o.set_phone_international(this.phone_international),this.radio_handler=new n(this.price_calculator),this.input_handler=new c(this.price_calculator,this.phone_international),this.form_navigation=new d,this.form_submission=new p(this.price_calculator),this.price_calculator.update_prix_ttc()}setup_form(){let t=$(e.selectors.global_form),r=$(e.selectors.form_step_1),i=$(e.selectors.form_step_2);t.attr("novalidate","novalidate"),r.css("display","grid"),i.hide(),$(e.selectors.field_error).hide(),$(e.selectors.field_validate).hide()}}}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){let e=document.querySelectorAll('[data-range="slider-container"]');e.forEach(e=>{let t=e.querySelector('[data-range="slider-thumb"]'),r=e.closest(".price_range-wrap")||e.parentElement,i=r?r.querySelector('[data-range="text"]'):null;if(!t||!i)return;let a=()=>{let e=t.style.left||"0%",r=parseFloat(e);i.style.left=`calc(${r}% + 0px)`};a();let s=new MutationObserver(e=>{e.forEach(e=>{"attributes"===e.type&&"style"===e.attributeName&&a()})});s.observe(t,{attributes:!0,attributeFilter:["style"]}),window.addEventListener("resize",a)})}),function(){let e=document.querySelectorAll('input[type="range"]');if(0===e.length)return;let t=[];e.forEach(e=>{let r=function e(t){if(t.parentNode.classList.contains("ios-slider-wrapper"))return;let r=document.createElement("div");r.className="ios-slider-wrapper";let i=document.createElement("div");i.className="ios-slider-thumb",t.parentNode.insertBefore(r,t),r.appendChild(t),r.appendChild(i);let a=parseFloat(t.min)||0,s=parseFloat(t.max)||100;function o(){let e=parseFloat(t.value),r=t.getBoundingClientRect();if(0===r.width)return;let o=r.width-30;i.style.left=15+(e-a)/(s-a)*o+"px"}return i.addEventListener("touchstart",function(e){"none"!==getComputedStyle(i).display&&e.preventDefault()},{passive:!1}),i.addEventListener("touchmove",function(e){if("none"===getComputedStyle(i).display)return;e.preventDefault();let r=t.getBoundingClientRect(),l=e.touches[0].clientX,n=l-r.left,c=n/r.width;c<0&&(c=0),c>1&&(c=1);let d=a+c*(s-a);t.value=Math.round(d),o(),t.dispatchEvent(new Event("input")),t.dispatchEvent(new Event("change"))},{passive:!1}),t.addEventListener("input",o),requestAnimationFrame(o),o}(e);r&&t.push(r)}),window.addEventListener("resize",()=>{t.forEach(e=>e())}),window.addEventListener("load",()=>{t.forEach(e=>e())})}(),window.Webflow=window.Webflow||[],window.Webflow.push(function(){let e=document.querySelector("form");if(!e)return;let t=e.querySelector('input[name="action"]');t||((t=document.createElement("input")).type="hidden",t.name="action",e.appendChild(t));let r=e.querySelectorAll('input[type="submit"][data-action]');r.forEach(e=>{e.addEventListener("click",function(){t.value=this.dataset.action||""})});let i=document.querySelectorAll(".price_btn-wrapper");i.forEach(e=>{let t=e.querySelector("a.btn_component.is-form"),r=e.querySelector('input[type="submit"][data-action]');t&&r&&t.addEventListener("click",function(e){e.preventDefault(),r.click()})})}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){document.querySelectorAll('[data-info="content"] ul li').forEach(function(e){let t=e.textContent.trim();t||e.remove()})}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){setTimeout(()=>{let e=document.querySelectorAll(".price_form-text-wrapper"),t=[];e.forEach(e=>{if(!e.hasAttribute("data-radio")){let r=e.querySelector('input[type="radio"]');r&&t.push(r)}}),t.forEach(e=>{e.addEventListener("change",function(){if(this.checked){let e=this.name,t=document.querySelectorAll(`input[name="${e}"]`);t.forEach(e=>{let t=e.closest(".price_form-text-wrapper");if(t&&!t.hasAttribute("data-radio")){t.style.backgroundColor="#ffffff",t.style.borderColor="transparent",t.style.color="#333333";let r=t.querySelectorAll("*");r.forEach(e=>e.style.color="")}});let r=this.closest(".price_form-text-wrapper");if(r){r.style.backgroundColor="rgba(25, 43, 194, 0.1)",r.style.borderColor="#192BC2",r.style.color="#192BC2";let i=r.querySelectorAll("*");i.forEach(e=>{e.style.color="#192BC2"})}}})})},100)});