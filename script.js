window.Webflow=window.Webflow||[],window.Webflow.push(function(){document.querySelectorAll('[data-faq-dropdown=""]').forEach(e=>{e.addEventListener("click",function(){let e=this.querySelector('[data-faq-dropdown="answer"]'),t=this.querySelector('[data-faq-dropdown="arrow"]');e&&(e.style.height&&"0px"!==e.style.height?(e.style.height="0px",t&&(t.style.transform="rotate(0deg)")):(e.style.height=e.scrollHeight+"px",t&&(t.style.transform="rotate(180deg)")))})})}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){let e=document.querySelector(".faq_tabs.w-tabs");if(!e)return;let t=e.querySelector(".w-tab-menu"),r=e.querySelector(".w-tab-content");if(!t||!r)return;let l=t.querySelectorAll(".w-tab-link, .faq_tab-link"),o=r.querySelectorAll(".w-tab-pane"),a=r.querySelectorAll(".faq_tab-pane .faq_tabs-menu-wrapper[data-tabs]");if(!l.length||!o.length||!a.length)return;function n(e){l.forEach(e=>{e.classList.remove("w--current"),e.setAttribute("aria-selected","false"),e.removeAttribute("tabindex")}),o.forEach(e=>{e.classList.remove("w--tab-active"),e.setAttribute("hidden","true")}),a.forEach(e=>{e.querySelectorAll(".faq_tab-link").forEach(e=>{e.classList.remove("w--current")})});let t=l[e],r=o[e];t&&(t.classList.add("w--current"),t.setAttribute("aria-selected","true"),t.setAttribute("tabindex","0")),r&&(r.classList.add("w--tab-active"),r.removeAttribute("hidden"));let n=r?r.querySelector(".faq_tabs-menu-wrapper[data-tabs]"):null;if(n){let i=n.querySelectorAll(".faq_tab-link");i[e]&&i[e].classList.add("w--current")}}let i=0;l.forEach((e,t)=>{(e.classList.contains("w--current")||"true"===e.getAttribute("aria-selected"))&&(i=t)}),n(i),l.forEach((e,t)=>{e.addEventListener("click",e=>{e.preventDefault(),n(t)})}),a.forEach(e=>{let t=e.querySelectorAll(".faq_tab-link");t.forEach((e,t)=>{e.addEventListener("click",e=>{e.preventDefault(),n(t)})})})}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){gsap.registerPlugin(ScrollTrigger,SplitText),gsap.context(()=>{document.querySelectorAll('[data-heading=""]').forEach(e=>{if("true"===e.dataset.splitInit)return;e.dataset.splitInit="true";let t=e.querySelectorAll(".main-span");if(!e.textContent.trim())return;t.forEach(e=>{let t=e.previousSibling;t&&3===t.nodeType&&/\s$/.test(t.textContent)||e.insertAdjacentText("beforebegin"," ")});let r=e.querySelector("[data-split-word]"),l,o;if(!(o=r?Array.from(e.querySelectorAll('[data-split-word="true"]')):(l=new SplitText(e,{type:"words",wordsClass:"split-word-wrapper",elementClass:!1,ignore:".main-span",position:"relative"})).words.map(e=>{let t=window.getComputedStyle(e.parentNode);return e.dataset.splitWord="true",e.style.display="inline-block",e.style.lineHeight=t.lineHeight,e.style.textDecoration=t.textDecoration,e.style.fontSize=t.fontSize,e.style.fontWeight=t.fontWeight,e.style.color=t.color,e})).length)return;gsap.set(o,{filter:"blur(20px)",y:40,opacity:0,willChange:"filter, y, opacity"}),t.forEach(e=>{gsap.set(e,{filter:"blur(20px)",y:40,opacity:0,"--bgY":"100%"})});let a=new IntersectionObserver(r=>{r.forEach(r=>{if(r.isIntersecting){let l=gsap.timeline();l.to(o,{filter:"blur(0px)",y:0,opacity:1,duration:.9,stagger:.04,ease:"power3.out"}),t.forEach((e,t)=>{l.to(e,{filter:"blur(0px)",y:0,opacity:1,"--bgY":"0%",duration:.6,ease:"power3.out"},"-=0.8")}),a.unobserve(e)}})},{threshold:.3,rootMargin:"0px 0px -10% 0px"});a.observe(e)})})}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){var e=document.querySelector('[data-navbar=""]'),t=document.querySelector('[data-hero=""]'),r=document.querySelector('[data-navbar-menu-btn=""]'),l=document.querySelector(".navbar_menu-button-inner"),o=e.querySelectorAll('[data-link-line="line"]'),a=r?r.getAttribute("aria-controls"):null,n=document.getElementById(a),i=!1;if(e&&r){if(r&&n){var c=new MutationObserver(function(e){e.forEach(function(e){r.classList.contains("w--open")?b():y()})}),s=new MutationObserver(function(e){e.forEach(function(e){"style"===e.attributeName&&"none"===n.style.display&&y()})});c.observe(r,{attributes:!0,attributeFilter:["class"]}),s.observe(n,{attributes:!0,attributeFilter:["style"]}),r.classList.contains("w--open")&&b()}window.addEventListener("scroll",f),window.addEventListener("resize",f),f()}function u(e){o.forEach(function(t){t.style.backgroundColor=e})}function d(e){e?document.body.style.overflow="hidden":document.body.style.overflow=""}function f(){if(!i){var r=window.scrollY,l=window.innerWidth<768;if(!t){r>0?(e.style.backgroundColor="rgba(255, 255, 255, 0.5)",e.style.backdropFilter="blur(10px)",e.style.webkitBackdropFilter="blur(10px)",e.style.color=l?"black":"var(--_variables-collection---text-color--text-primary)",u("#0a0a0a")):p();return}var o,a=e.getBoundingClientRect(),n=t.getBoundingClientRect();a.bottom+r>n.bottom+r?(e.style.backgroundColor="rgba(255, 255, 255, 0.5)",e.style.backdropFilter="blur(10px)",e.style.webkitBackdropFilter="blur(10px)",l?e.style.color="black":e.style.color="var(--_variables-collection---text-color--text-primary)",u("#0a0a0a")):r>0?(e.style.backgroundColor="rgba(0, 0, 0, 0.25)",e.style.backdropFilter="blur(10px)",e.style.webkitBackdropFilter="blur(10px)",e.style.color="",u("")):p()}}function p(){e.style.backgroundColor="transparent",e.style.backdropFilter="none",e.style.webkitBackdropFilter="none",e.style.color="",u("")}function b(){i=!0,e.style.backgroundColor="#F2F2F2",e.style.backdropFilter="none",e.style.webkitBackdropFilter="none",e.style.color="black",l&&(l.style.color="black"),u("#0a0a0a"),d(!0)}function y(){i=!1,l&&(l.style.color=""),d(!1),f()}}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){let e=$('[data-form-steps="1"]'),t=$('[data-form-steps="2"]');e.css("display","grid"),t.hide(),$('[data-btn="form"]').click(function(r){r.preventDefault();let l=e.find("input, select, textarea"),o=!0;l.each(function(){if(!this.checkValidity())return o=!1,this.reportValidity(),!1}),o&&e.animate({opacity:0},300,function(){$(this).hide(),t.css({display:"grid",opacity:"0"}),t.animate({opacity:1},300)})})}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){setTimeout(function e(){let t=document.querySelector("#telephone");if(!t){console.error("Input #telephone introuvable !");return}if(window.intlTelInput){let r=window.intlTelInput(t,{utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/js/utils.js",initialCountry:"auto",preferredCountries:["fr","be","ch"],fixDropdownWidth:!0,geoIpLookup(e){fetch("https://ipapi.co/json").then(e=>e.json()).then(t=>e(t.country_code)).catch(()=>e("fr"))}}),l=t.closest("form");l.addEventListener("submit",function(){let e="";e=window.intlTelInputUtils?r.getNumber(window.intlTelInputUtils.numberFormat.INTERNATIONAL):r.getNumber(),t.style.color="transparent",t.value=e})}else console.error("La librairie intlTelInput n'est pas encore charg\xe9e.")},500)}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){let e=document.querySelectorAll("[data-postal]");e.forEach(function(e){e.addEventListener("input",function(e){e.target.value=e.target.value.replace(/\D/g,""),e.target.value.length>5&&(e.target.value=e.target.value.slice(0,5))}),e.closest("form").addEventListener("submit",function(){if(e.value&&5!==e.value.length)return alert("Code postal : 5 chiffres requis"),e.focus(),!1})})}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){let e={"slider-1":{pricePerM2First100:8.9,pricePerM2After100:6.9,minValue:100},"slider-2":{pricePerM2:9.9,minValue:100},"slider-3":{pricePerM2:9.9,minValue:100},"slider-4":{pricePerM2:9.9,minValue:100}},t=document.querySelectorAll('[data-range="wrapper"]');function r(e,t){let r=document.querySelectorAll(`[data-range="${e}"]`);r.forEach(e=>{"INPUT"===e.tagName?e.value=t:e.textContent=t})}function l(t){let r=document.querySelector(`[data-range="${t}"]`);if(!r)return 0;let l=r.closest('[data-range="wrapper"]');if(!l)return 0;let o=l.querySelector('input[type="range"]');if(!o)return 0;let a=o.getAttribute("data-range"),n=e[a]||e["slider-2"],i=parseFloat(o.value);return(i=Math.max(n.minValue,i),"slider-1"===a)?i<=100?i*n.pricePerM2First100:100*n.pricePerM2First100+(i-100)*n.pricePerM2After100:i*n.pricePerM2}t.forEach(o=>{let a=o.querySelector('input[type="range"]'),n=o.querySelector('[data-range^="value_"]'),i=o.querySelector('[data-range="price"]');if(!a)return;let c=function t(r){let l=r.getAttribute("data-range");return e[l]||e["slider-2"]}(a);a.addEventListener("input",function(){let o=parseFloat(a.value);(o=Math.max(c.minValue,o))!==parseFloat(a.value)&&"slider-1"!==a.getAttribute("data-range")&&(a.value=o);let s=parseFloat(a.min||0),u=parseFloat(a.max||300),d=(o-s)/(u-s)*100;if(a.style.background=`linear-gradient(to right, #192BC2 ${d}%, #DFDFDF ${d}%)`,n&&!n.getAttribute("data-range").includes("result")&&(n.textContent=`${o}`),i){let f;f="slider-1"===a.getAttribute("data-range")?o<=100?o*c.pricePerM2First100:100*c.pricePerM2First100+(o-100)*c.pricePerM2After100:o*c.pricePerM2,i.textContent=f.toFixed(2).replace(".",",")+"€"}!function o(){let a=l("value_toiture"),n=l("value_facades_demoussage"),i=l("value_facades_hydrofuge"),c=l("value_gouttieres");r("value_toiture_result",a.toFixed(2).replace(".",",")+"€"),r("value_facades_result",(n+i).toFixed(2).replace(".",",")+"€"),r("value_surface_demoussage",n.toFixed(2).replace(".",",")+"€"),r("value_surface_protection_hydrofuge",i.toFixed(2).replace(".",",")+"€"),r("value_gouttieres_result",c.toFixed(2).replace(".",",")+"€");let s=0;t.forEach(t=>{let r=t.querySelector('input[type="range"]');if(r){let l=r.getAttribute("data-range"),o=e[l]||e["slider-2"],a=parseFloat(r.value);a=Math.max(o.minValue,a),"slider-1"===l?a<=100?s+=a*o.pricePerM2First100:s+=100*o.pricePerM2First100+(a-100)*o.pricePerM2After100:s+=a*o.pricePerM2}}),r("sum",s.toFixed(2).replace(".",",")+"€")}()}),"slider-1"===a.getAttribute("data-range")&&(a.value=0),a.dispatchEvent(new Event("input"))})}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){let e=document.querySelector("form");if(!e)return;let t=e.querySelector('input[name="action"]');t||((t=document.createElement("input")).type="hidden",t.name="action",e.appendChild(t));let r=e.querySelectorAll('input[type="submit"][data-action]');r.forEach(e=>{e.addEventListener("click",function(){t.value=this.dataset.action||""})});let l=document.querySelectorAll(".price_btn-wrapper");l.forEach(e=>{let t=e.querySelector("a.btn_component.is-form"),r=e.querySelector('input[type="submit"][data-action]');t&&r&&t.addEventListener("click",function(e){e.preventDefault(),r.click()})})}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){let e=document.querySelectorAll('[data-toggle="checkbox"]'),t=document.querySelector('[span][data-toggle="text"], [data-toggle="text"]');console.log("Global text element:",t),e.forEach(e=>{let r=e.closest(".price_checkbox-wrapper");if(!r)return;r.style.webkitTapHighlightColor="transparent";let l=r.querySelector('[data-toggle="circle"]'),o=r.querySelector('[data-toggle="background"]');function a(){let r=e.checked;t&&(t.textContent=r?"OUI":"NON"),r?(l.style.transform="translate(100%, -50%)",l.style.backgroundColor="#FFFFFF",o.style.backgroundColor="#192BC2"):(l.style.transform="translate(0%, -50%)",l.style.backgroundColor="#192BC2",o.style.backgroundColor="#FFFFFF")}l&&o&&(l.style.transition="transform 0.35s ease, background-color 0.35s ease",o.style.transition="background-color 0.35s ease",a(),e.addEventListener("change",a))});let r=document.querySelectorAll(".price_form-text-wrapper"),l=Array.from(r).filter(e=>e.querySelector('input[type="radio"]'));function o(){l.forEach(e=>{let t=e.querySelector('input[type="radio"]'),r=e.querySelector('[data-radio="text-color"]')||e.querySelector("p"),l=e.querySelector(".price_form-heading");t&&(e.style.transition="background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease",r&&(r.style.transition="color 0.2s ease"),l&&(l.style.transition="color 0.2s ease"),t.checked?(e.style.backgroundColor="rgba(25, 43, 194, 0.1)",e.style.borderColor="#192BC2",e.style.color="#192BC2",r&&(r.style.color="#192BC2"),l&&(l.style.color="#192BC2")):(e.style.backgroundColor="#FFFFFF",e.style.borderColor="transparent",e.style.color="#000000",r&&(r.style.color="#333333"),l&&(l.style.color="#000000")))})}l.forEach(e=>{let t=e.querySelector('input[type="radio"]');e.style.cursor="pointer",e.style.position="relative",e.style.webkitTapHighlightColor="transparent",Object.assign(t.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",opacity:"0",zIndex:"5",cursor:"pointer",margin:"0"}),e.addEventListener("click",function(){t.checked=!0,t.dispatchEvent(new Event("change")),o()}),t.addEventListener("change",o)}),o()}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){let e=document.querySelectorAll("[data-phone]");e.forEach(function(e){e.addEventListener("input",function(e){let t=e.target.value.replace(/\D/g,"").substring(0,9);t.length>0&&"7"!==t[0]&&(t="7"+t.substring(1));let r="";t.length>0&&(r+=t.substring(0,1)),t.length>1&&(r+=" "+t.substring(1,3)),t.length>3&&(r+=" "+t.substring(3,5)),t.length>5&&(r+=" "+t.substring(5,7)),t.length>7&&(r+=" "+t.substring(7,9)),e.target.value=r}),e.form&&e.form.addEventListener("submit",function(t){/^7 [0-9]{2} [0-9]{2} [0-9]{2} [0-9]{2}$/.test(e.value)||(t.preventDefault(),alert("Merci de saisir un num\xe9ro au format 7 12 34 56 78"))})})}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){setTimeout(()=>{let e=document.querySelectorAll(".price_form-radio"),t=document.querySelector('[data-radio="text"]');e.forEach(e=>{e.addEventListener("change",function(){if(this.checked){let e=document.querySelectorAll('[data-radio="pente"]');e.forEach(e=>{e.style.backgroundColor="",e.style.color=""});let r=this.closest('[data-radio="pente"]');r&&(r.style.backgroundColor="rgba(25, 43, 194, 0.1)",r.style.color="#192BC2"),t&&("pente_faible"===this.value?t.textContent="Faible":"pente_moyenne"===this.value?t.textContent="Moyenne":"pente_forte"===this.value&&(t.textContent="Forte"))}})})},100)}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){setTimeout(()=>{let e=document.querySelectorAll(".price_form-radio");e.forEach(e=>{e.addEventListener("change",function(){if(this.checked){let e=document.querySelectorAll(".price_form-text-wrapper");e.forEach(e=>{e.style.backgroundColor="",e.style.color="";let t=e.querySelector('[data-radio="text-color"]');t&&(t.style.color="")});let t=this.closest(".price_form-text-wrapper");if(t){t.style.backgroundColor="rgba(25, 43, 194, 0.1)",t.style.color="#192BC2";let r=t.querySelector('[data-radio="text-color"]');r&&(r.style.color="#192BC2")}}})})},100)});