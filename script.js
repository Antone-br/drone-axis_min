window.Webflow=window.Webflow||[],window.Webflow.push(function(){document.querySelectorAll('[data-faq-dropdown=""]').forEach(e=>{e.addEventListener("click",function(){let e=this.querySelector('[data-faq-dropdown="answer"]'),t=this.querySelector('[data-faq-dropdown="arrow"]');e&&(e.style.height&&"0px"!==e.style.height?(e.style.height="0px",t&&(t.style.transform="rotate(0deg)")):(e.style.height=e.scrollHeight+"px",t&&(t.style.transform="rotate(180deg)")))})})}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){let e=document.getElementById("date-picker");e&&(e.setAttribute("autocomplete","off"),e.setAttribute("readonly","readonly"),e.value=""),flatpickr("#date-picker",{enableTime:!0,time_24hr:!0,locale:"fr",minDate:"today",disableMobile:!0,altInput:!0,altFormat:"d/m/Y - H\\hi",dateFormat:"Y-m-d H:i",allowInput:!1,clickOpens:!0})}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){setTimeout(function e(){let t=document.querySelector("#form-contact-phone");if(!t){console.error("Input #telephone introuvable !");return}if(window.intlTelInput){let r=window.intlTelInput(t,{utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/js/utils.js",initialCountry:"auto",preferredCountries:["fr","be","ch"],fixDropdownWidth:!0,geoIpLookup(e){fetch("https://ipapi.co/json").then(e=>e.json()).then(t=>e(t.country_code)).catch(()=>e("fr"))}}),l=t.closest("form");l.addEventListener("submit",function(){let e="";e=window.intlTelInputUtils?r.getNumber(window.intlTelInputUtils.numberFormat.INTERNATIONAL):r.getNumber(),t.style.color="transparent",t.value=e})}else console.error("La librairie intlTelInput n'est pas encore charg\xe9e.")},500)}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){let e=document.querySelector(".faq_tabs.w-tabs");if(!e)return;let t=e.querySelector(".w-tab-menu"),r=e.querySelector(".w-tab-content");if(!t||!r)return;let l=t.querySelectorAll(".w-tab-link, .faq_tab-link"),a=r.querySelectorAll(".w-tab-pane"),o=r.querySelectorAll(".faq_tab-pane .faq_tabs-menu-wrapper[data-tabs]");if(!l.length||!a.length||!o.length)return;function n(e){l.forEach(e=>{e.classList.remove("w--current"),e.setAttribute("aria-selected","false"),e.removeAttribute("tabindex")}),a.forEach(e=>{e.classList.remove("w--tab-active"),e.setAttribute("hidden","true")}),o.forEach(e=>{e.querySelectorAll(".faq_tab-link").forEach(e=>{e.classList.remove("w--current")})});let t=l[e],r=a[e];t&&(t.classList.add("w--current"),t.setAttribute("aria-selected","true"),t.setAttribute("tabindex","0")),r&&(r.classList.add("w--tab-active"),r.removeAttribute("hidden"));let n=r?r.querySelector(".faq_tabs-menu-wrapper[data-tabs]"):null;if(n){let i=n.querySelectorAll(".faq_tab-link");i[e]&&i[e].classList.add("w--current")}}let i=0;l.forEach((e,t)=>{(e.classList.contains("w--current")||"true"===e.getAttribute("aria-selected"))&&(i=t)}),n(i),l.forEach((e,t)=>{e.addEventListener("click",e=>{e.preventDefault(),n(t)})}),o.forEach(e=>{let t=e.querySelectorAll(".faq_tab-link");t.forEach((e,t)=>{e.addEventListener("click",e=>{e.preventDefault(),n(t)})})})}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){console.log("\uD83D\uDD0D Recherche \xe9l\xe9ments form-contact...");let e=document.querySelector('[data-form-contact="page"]'),t=document.querySelector('[data-form-contact="open"]'),r=document.querySelectorAll('[data-form-contact="close"]'),l=document.querySelectorAll('[data-form-contact="page"] [data-btn]');if(!e||!t){console.error("âŒ \xc9l\xe9ments manquants");return}e.style.transition="opacity 400ms ease",e.style.opacity="0",e.style.display="none";let a=()=>{console.log("âž¡ï¸ Ouverture"),e.style.display="block",e.style.opacity="1"},o=()=>{console.log("â¬…ï¸ Fermeture"),e.style.opacity="0",setTimeout(()=>{e.style.display="none",console.log("\uD83D\uDD12 Ferm\xe9")},400)};document.addEventListener("click",t=>{if("block"===e.style.display){let r=e.contains(t.target)||t.target.closest('[data-form-contact="page"]');console.log("\uD83C\uDFAF Clic sur:",t.target.className),console.log("\uD83D\uDD0D Dans modal?",r),r?console.log("\uD83D\uDCF1 CLIC DANS modal â†’ ouvert"):(console.log("\uD83C\uDF10 CLIC HORS modal â†’ FERMETURE"),o())}}),t.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),a()}),r.forEach((e,t)=>e.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),console.log(`ðŸšª Close #${t+1}`),o()})),l.forEach((e,t)=>e.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),console.log(`ðŸ”˜ Data-btn #${t+1}`),o()})),console.log("\uD83C\uDF89 Pr\xeat - Double v\xe9rif anti-bug Webflow")}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){gsap.registerPlugin(ScrollTrigger,SplitText),gsap.context(()=>{document.querySelectorAll('[data-heading=""]').forEach(e=>{if("true"===e.dataset.splitInit)return;e.dataset.splitInit="true";let t=e.querySelectorAll(".main-span");if(!e.textContent.trim())return;t.forEach(e=>{let t=e.previousSibling;t&&3===t.nodeType&&/\s$/.test(t.textContent)||e.insertAdjacentText("beforebegin"," ")});let r=e.querySelector("[data-split-word]"),l,a;if(!(a=r?Array.from(e.querySelectorAll('[data-split-word="true"]')):(l=new SplitText(e,{type:"words",wordsClass:"split-word-wrapper",elementClass:!1,ignore:".main-span",position:"relative"})).words.map(e=>{let t=window.getComputedStyle(e.parentNode);return e.dataset.splitWord="true",e.style.display="inline-block",e.style.lineHeight=t.lineHeight,e.style.textDecoration=t.textDecoration,e.style.fontSize=t.fontSize,e.style.fontWeight=t.fontWeight,e.style.color=t.color,e})).length)return;gsap.set(a,{filter:"blur(20px)",y:40,opacity:0,willChange:"filter, y, opacity"}),t.forEach(e=>{gsap.set(e,{filter:"blur(20px)",y:40,opacity:0,"--bgY":"100%"})});let o=new IntersectionObserver(r=>{r.forEach(r=>{if(r.isIntersecting){let l=gsap.timeline();l.to(a,{filter:"blur(0px)",y:0,opacity:1,duration:.9,stagger:.04,ease:"power3.out"}),t.forEach((e,t)=>{l.to(e,{filter:"blur(0px)",y:0,opacity:1,"--bgY":"0%",duration:.6,ease:"power3.out"},"-=0.8")}),o.unobserve(e)}})},{threshold:.3,rootMargin:"0px 0px -10% 0px"});o.observe(e)})})}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){var e=document.querySelector('[data-navbar=""]'),t=document.querySelector('[data-hero=""]'),r=document.querySelector('[data-navbar-menu-btn=""]'),l=document.querySelector(".navbar_menu-button-inner"),a=e.querySelectorAll('[data-link-line="line"]'),o=r?r.getAttribute("aria-controls"):null,n=document.getElementById(o),i=!1;if(e&&r){if(r&&n){var s=new MutationObserver(function(e){e.forEach(function(e){r.classList.contains("w--open")?b():h()})}),c=new MutationObserver(function(e){e.forEach(function(e){"style"===e.attributeName&&"none"===n.style.display&&h()})});s.observe(r,{attributes:!0,attributeFilter:["class"]}),c.observe(n,{attributes:!0,attributeFilter:["style"]}),r.classList.contains("w--open")&&b()}window.addEventListener("scroll",p),window.addEventListener("resize",p),p()}function u(e){a.forEach(function(t){t.style.backgroundColor=e})}function d(e){e?document.body.style.overflow="hidden":document.body.style.overflow=""}function p(){if(!i){var r=window.scrollY,l=window.innerWidth<768;if(!t){r>0?(e.style.backgroundColor="rgba(255, 255, 255, 0.5)",e.style.backdropFilter="blur(10px)",e.style.webkitBackdropFilter="blur(10px)",e.style.color=l?"black":"var(--_variables-collection---text-color--text-primary)",u("#0a0a0a")):f();return}var a,o=e.getBoundingClientRect(),n=t.getBoundingClientRect();o.bottom+r>n.bottom+r?(e.style.backgroundColor="rgba(255, 255, 255, 0.5)",e.style.backdropFilter="blur(10px)",e.style.webkitBackdropFilter="blur(10px)",l?e.style.color="black":e.style.color="var(--_variables-collection---text-color--text-primary)",u("#0a0a0a")):r>0?(e.style.backgroundColor="rgba(0, 0, 0, 0.25)",e.style.backdropFilter="blur(10px)",e.style.webkitBackdropFilter="blur(10px)",e.style.color="",u("")):f()}}function f(){e.style.backgroundColor="transparent",e.style.backdropFilter="none",e.style.webkitBackdropFilter="none",e.style.color="",u("")}function b(){i=!0,e.style.backgroundColor="#F2F2F2",e.style.backdropFilter="none",e.style.webkitBackdropFilter="none",e.style.color="black",l&&(l.style.color="black"),u("#0a0a0a"),d(!0)}function h(){i=!1,l&&(l.style.color=""),d(!1),p()}}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){let e={"slider-1":{pricePerM2First100:8.9,pricePerM2After100:6.9,minValue:0},"slider-2":{pricePerM2:6.9,minValue:0},"slider-3":{pricePerM2:9.9,minValue:0},"slider-4":{pricePerM2:4.9,minValue:100}};function t(t,r){let l=e[t];if(!l||!l.pricePerM2||0===r)return 0;let a=Math.max(l.minValue,r);return a*l.pricePerM2}function r(){let t=document.querySelector('input[data-range="slider-1"]'),r=parseFloat(t.value)||0;a("value_toiture",r);let n=document.querySelector('input[data-radio="slops"]:checked');if(n){let i="";switch(n.value){case"pente_faible":i="Faible";break;case"pente_moyenne":i="Moyenne";break;case"pente_forte":i="Forte"}document.querySelectorAll('[data-radio="text"]').forEach(e=>{e.textContent=i})}let s=function e(){let t=document.querySelector('input[data-radio="slops"]:checked');if(!t)return 1;switch(t.value){case"pente_faible":return 1.155;case"pente_moyenne":return 1.414;case"pente_forte":return 2;default:return 1}}(),c=r*s,u=c.toFixed(1).replace(".",",");document.querySelectorAll('[data-radio="slops-text"]').forEach(e=>{e.textContent=u});let d=function t(r){let l=e["slider-1"];if(r<=100)return r*l.pricePerM2First100;{let a=100*l.pricePerM2First100,o=(r-100)*l.pricePerM2After100;return a+o}}(c),p=t.closest('[data-range="wrapper"]');if(p){let f=p.querySelector('[data-range="price"]');f&&(f.textContent=l(d))}a("value_toiture_result",l(d));let b=0,h=0,y=0,g=document.querySelector('input[data-range="slider-2"]');if(g){let m=parseFloat(g.value)||0;b=m*e["slider-2"].pricePerM2,a("value_facades_demoussage",m),a("value_surface_demoussage",l(b)),o(g,b)}let v=document.querySelector('input[data-range="slider-3"]');if(v){let w=parseFloat(v.value)||0;h=w*e["slider-3"].pricePerM2,a("value_facades_hydrofuge",w),a("value_surface_protection_hydrofuge",l(h)),o(v,h)}let _=document.querySelector('input[data-range="slider-4"]');if(_){let k=parseFloat(_.value)||0;k>0&&k<100&&(k=100),y=k*e["slider-4"].pricePerM2,a("value_gouttieres",k),a("value_gouttieres_result",l(y)),o(_,y)}let S=b+h;a("value_facades_result",l(S));let q=d+b+h+y;document.querySelectorAll('[data-range="sum"]').forEach(e=>{e.textContent=l(q)})}function l(e){return e.toFixed(2).replace(".",",")+"â‚¬"}function a(e,t){document.querySelectorAll(`[data-range="${e}"]`).forEach(e=>{"INPUT"===e.tagName?e.value=t:e.textContent=t})}function o(e,t){let r=e.closest('[data-range="wrapper"]');if(r){let a=r.querySelector('[data-range="price"]');a&&(a.textContent=l(t))}}let n=document.querySelectorAll('input[type="range"]');n.forEach(e=>{e.addEventListener("input",r),e.addEventListener("change",r)});let i=document.querySelectorAll('input[data-radio="slops"]');i.forEach(e=>{e.addEventListener("change",r)}),r()}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){var e="1px solid #ff0000",t="0 0 0 2px rgba(255, 0, 0, 0.1)",r=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,l=/^7 [0-9]{2} [0-9]{2} [0-9]{2} [0-9]{2}$/,a=$('[data-form-steps="1"]'),o=$('[data-form-steps="2"]');function n(e,t){var r=$(e).closest(".price_form-input-wrapper");if(r.length>0)return r.find('[data-field="'+t+'"]');var l=$(e).siblings('[data-field="'+t+'"]');return l.length?l:$(e).parent().find('[data-field="'+t+'"]')}function i(e){("rgb(255, 0, 0)"===e.style.borderColor||"#ff0000"===e.style.borderColor)&&(e.style.border="",e.style.boxShadow="",n(e,"error").hide())}function s(e){i(e),e.style.border="1px solid #008000",e.style.boxShadow="0 0 0 2px rgba(0, 128, 0, 0.1)",n(e,"validate").show()}function c(e){("rgb(0, 128, 0)"===e.style.borderColor||"#008000"===e.style.borderColor)&&(e.style.border="",e.style.boxShadow=""),n(e,"validate").hide()}function u(){var a=0;$('[data-field="input"]:visible').each(function(){var o=!0,u=this.value.trim();u||(o=!1),o&&$(this).is("[data-postal]")&&5!==u.length&&(o=!1),o&&$(this).is("[data-phone]")&&!l.test(u)&&(o=!1),o&&($(this).is("[data-mail]")||"email"===this.type)&&!r.test(u)&&(o=!1),o?(i(this),s(this)):(c(this),this.style.border=e,this.style.boxShadow=t,n(this,"error").show(),a++)});var o=$("[data-radio]:visible"),u={};for(var d in o.each(function(){var e=$(this).find('input[type="radio"]')[0];e&&(u[e.name]||(u[e.name]=[]),u[e.name].push(this))}),u){var p=$('input[name="'+d+'"]:checked').length>0,f=u[d];p?f.forEach(function(e){i(e)}):(f.forEach(function(r){r.style.border=e,r.style.boxShadow=t,n(r,"error").show()}),a++)}return a}$("form").attr("novalidate","novalidate"),a.css("display","grid"),o.hide(),$('[data-field="error"]').hide(),$('[data-field="validate"]').hide(),$(document).on("click touchstart","[data-radio]",function(e){var t=$(this).find('input[type="radio"]')[0];t&&"touchstart"===e.type&&(e.preventDefault(),t.checked=!0,$(t).trigger("change"))}),$(document).on("change",'input[type="radio"]',function(){var e=this.name;$("[data-radio]").filter(function(){var t=$(this).find('input[type="radio"]')[0];return t&&t.name===e}).each(function(){var e=$(this).find('input[type="radio"]')[0];e&&(e.checked?(i(this),this.style.border="1px solid #192BC2",this.style.boxShadow="0 0 0 2px rgba(25, 43, 194, 0.12)",n(this,"error").hide(),n(this,"validate").show()):(("rgb(25, 43, 194)"===this.style.borderColor||"#192BC2"===this.style.borderColor)&&(this.style.border="",this.style.boxShadow=""),n(this,"validate").hide()))})}),$(document).on("focusin",'[data-field="input"]',function(){i(this)}),$(document).on("click",function(e){$(e.target).closest('[data-btn="form"], input[type="submit"], button[type="submit"]').length||($('[data-field="input"]').each(function(){i(this)}),$("[data-radio]").each(function(){i(this)}))}),$(document).on("input","[data-postal]",function(e){var t=e.target.value.replace(/\D/g,"");t.length>5&&(t=t.slice(0,5)),e.target.value=t,5===t.length?s(this):c(this)}),$(document).on("input","[data-phone]",function(e){var t=e.target.value.replace(/\D/g,"").substring(0,9);t.length>0&&"7"!==t[0]&&(t="7"+t.substring(1));var r="";t.length>0&&(r+=t.substring(0,1)),t.length>1&&(r+=" "+t.substring(1,3)),t.length>3&&(r+=" "+t.substring(3,5)),t.length>5&&(r+=" "+t.substring(5,7)),t.length>7&&(r+=" "+t.substring(7,9)),e.target.value=r,l.test(r)?s(this):c(this)}),$(document).on("input","[data-mail]",function(e){r.test(e.target.value)?s(this):c(this)}),$(document).on("input",'[data-field="input"]:not([data-postal]):not([data-phone]):not([data-mail])',function(){this.value.trim().length>1?s(this):c(this)}),$('[data-btn="form"]').click(function(e){e.preventDefault(),e.stopPropagation(),a.is(":visible")&&0===u()&&a.animate({opacity:0},300,function(){$(this).hide(),o.css({display:"grid",opacity:"0"}),o.animate({opacity:1},300),$("html, body").animate({scrollTop:o.offset().top-100},500)})}),$('input[type="submit"], button[type="submit"]').click(function(e){o.is(":visible")&&(e.stopPropagation(),u()>0&&e.preventDefault())}),$('[data-form="return"]').click(function(e){e.preventDefault(),e.stopPropagation(),o.animate({opacity:0},300,function(){$(this).hide(),a.css({display:"grid",opacity:"0"}),a.animate({opacity:1},300)})})}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){setTimeout(function e(){let t=document.querySelector("#telephone");if(!t){console.error("Input #telephone introuvable !");return}if(window.intlTelInput){let r=window.intlTelInput(t,{utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/js/utils.js",initialCountry:"auto",preferredCountries:["fr","be","ch"],fixDropdownWidth:!0,geoIpLookup(e){fetch("https://ipapi.co/json").then(e=>e.json()).then(t=>e(t.country_code)).catch(()=>e("fr"))}}),l=t.closest("form");l.addEventListener("submit",function(){let e="";e=window.intlTelInputUtils?r.getNumber(window.intlTelInputUtils.numberFormat.INTERNATIONAL):r.getNumber(),t.style.color="transparent",t.value=e})}else console.error("La librairie intlTelInput n'est pas encore charg\xe9e.")},500)}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){let e=document.querySelectorAll(".price_range-wrapper");e.forEach((e,t)=>{let r=e.querySelector('input[type="range"]'),l=e.querySelector('[data-range="text"]');function a(){let e=parseFloat(r.value),t=parseFloat(r.min||0),a=parseFloat(r.max||100),o=(e-t)/(a-t)*100;r.style.background=`linear-gradient(to right, #192BC2 ${o}%, #DFDFDF ${o}%)`,l&&(l.style.left=`calc(${o}% + ${10-.2*o}px)`)}r&&(r.addEventListener("input",a),window.addEventListener("resize",a),a())})}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){let e=document.querySelector("form");if(!e)return;let t=e.querySelector('input[name="action"]');t||((t=document.createElement("input")).type="hidden",t.name="action",e.appendChild(t));let r=e.querySelectorAll('input[type="submit"][data-action]');r.forEach(e=>{e.addEventListener("click",function(){t.value=this.dataset.action||""})});let l=document.querySelectorAll(".price_btn-wrapper");l.forEach(e=>{let t=e.querySelector("a.btn_component.is-form"),r=e.querySelector('input[type="submit"][data-action]');t&&r&&t.addEventListener("click",function(e){e.preventDefault(),r.click()})})}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){let e=document.querySelectorAll('[data-toggle="checkbox"]'),t=document.querySelector('[span][data-toggle="text"], [data-toggle="text"]');e.forEach(e=>{let r=e.closest(".price_checkbox-wrapper");if(!r)return;r.style.webkitTapHighlightColor="transparent";let l=r.querySelector('[data-toggle="circle"]'),a=r.querySelector('[data-toggle="background"]');function o(){let r=e.checked;t&&(t.textContent=r?"OUI":"NON"),r?(l.style.transform="translate(100%, -50%)",l.style.backgroundColor="#FFFFFF",a.style.backgroundColor="#192BC2"):(l.style.transform="translate(0%, -50%)",l.style.backgroundColor="#192BC2",a.style.backgroundColor="#FFFFFF")}l&&a&&(l.style.transition="transform 0.35s ease, background-color 0.35s ease",a.style.transition="background-color 0.35s ease",o(),e.addEventListener("change",o))})}),window.Webflow=window.Webflow||[],window.Webflow.push(function(){setTimeout(()=>{let e=document.querySelectorAll(".price_form-text-wrapper"),t=[];e.forEach(e=>{if(!e.hasAttribute("data-radio")){let r=e.querySelector('input[type="radio"]');r&&t.push(r)}}),t.forEach(e=>{e.addEventListener("change",function(){if(this.checked){let e=this.name,t=document.querySelectorAll(`input[name="${e}"]`);t.forEach(e=>{let t=e.closest(".price_form-text-wrapper");if(t&&!t.hasAttribute("data-radio")){t.style.backgroundColor="#ffffff",t.style.borderColor="transparent",t.style.color="#333333";let r=t.querySelectorAll("*");r.forEach(e=>e.style.color="")}});let r=this.closest(".price_form-text-wrapper");if(r){r.style.backgroundColor="rgba(25, 43, 194, 0.1)",r.style.borderColor="#192BC2",r.style.color="#192BC2";let l=r.querySelectorAll("*");l.forEach(e=>{e.style.color="#192BC2"})}}})})},100)});